cb-lcars-base-card:
  tabs:
    - label: Base Card
      content:
        - type: ControlRow
          controls:
            - type: Message
              alertType: info
              message: "This is a base card for advanced use.  Visual Editor is not available for this card."
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }
cb-lcars-base-controls:
  tabs:
    - label: Base Controls
      content:
        - type: ControlRow
          controls:
            - type: RawHTML
              html: |
                  <ha-tip position="bottom-start" offset="10" delay="500" hide-delay="200">
                    <ha-icon icon="mdi:exclamation"></ha-icon>
                    This is a warning.
                  </ha-tip>
        - type: Section
          label: "Section 31"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:space-invaders"
          noCollapse: false
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Label (text)"
                  helper: "I'm a text selector"
                  configValue: "configSample.textSelector.typeText"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    text:
                      type: text
                - label: "Label (color)"
                  helper: "I'm a text color selector"
                  configValue: "configSample.textSelector.typeColor"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    text:
                      type: color
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Label (number)"
                  helper: "I'm a text number selector"
                  configValue: "configSample.textSelector.typeNumber"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    text:
                      type: number
                - label: "Label (password)"
                  helper: "I'm a text password selector"
                  configValue: "configSample.textSelector.typePassword"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    text:
                      type: password
        - type: Section
          label: "Section 32"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:space-invaders"
          noCollapse: false
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Label (boolean)"
                  helper: "I'm a boolean selector"
                  configValue: "configSample.booleanSelector.bool1"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    boolean:
                - label: "Label (boolean 2)"
                  helper: "I'm a boolean selector too!"
                  configValue: "configSample.booleanSelector.bool2"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    boolean:
            - type: ControlRow
              controls:
                - label: "Number Selector"
                  helper: "I'm a number slider"
                  configValue: "configSample.numberSelector.numValue"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    number:
                      min: 0
                      max: 100
                      step: 1
                      mode: slider
                      unit_of_measurement: "px"
                      slider_ticks: true
                - label: "Number Selector"
                  helper: "I'm a number box"
                  configValue: "configSample.numberSelector.numValue2"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    number:
                      min: 0
                      max: 100
                      step: 1
                      mode: box
                      unit_of_measurement: "px"
        - type: Section
          label: "Section 33"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:rocket"
          noCollapse: false
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Select Any Entity"
                  helper: "I'm an entity selector"
                  configValue: "configSample.entitySelector.ent1"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    entity:
                - label: "Select Light"
                  helper: "I'm an entity selector for lights"
                  configValue: "configSample.entitySelector.ent2"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    entity:
                      domain: light
                - label: "Select Switch"
                  helper: "I'm an entity selector for switches"
                  configValue: "configSample.entitySelector.ent3"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    entity:
                      domain: switch
                - label: "Selcect Icon"
                  helper: "I'm an icon selector"
                  configValue: "configSample.iconSelector.icon"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    icon:
            - type: ControlRow
              controls:
                - label: "Select Selector (Dropdown)"
                  helper: "I'm a select selector (dropdown list)"
                  configValue: "configSample.selectSelector.list1"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      options:
                        - value: "option1"
                          label: "Option 1"
                        - value: "option2"
                          label: "Option 2 (disabled)"
                          disabled: true
                        - value: "option3"
                          label: "Option 3"
                - label: "Select Selector (radio buttons)"
                  helper: "I'm a select selector (radio buttons)"
                  configValue: "configSample.selectSelector.list2"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: list
                      options:
                        - value: "option1"
                          label: "Option 1"
                        - value: "option2"
                          label: "Option 2 (disabled)"
                          disabled: true
                        - value: "option3"
                          label: "Option 3"
                - type: Divider
                - label: "Select Selector (Multi Dropdown)"
                  helper: "I'm a select multi selector (dropdown list)"
                  configValue: "configSample.selectSelector.list3"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      multiple: true
                      options:
                        - value: "option1"
                          label: "Option 1"
                        - value: "option2"
                          label: "Option 2 (disabled)"
                          disabled: true
                        - value: "option3"
                          label: "Option 3"
                - label: "Select Selector (multi checkboxes)"
                  helper: "I'm a select selector (checkboxes)"
                  configValue: "configSample.selectSelector.list4"
                  disabled: false
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: list
                      multiple: true
                      options:
                        - value: "option1"
                          label: "Option 1"
                        - value: "option2"
                          label: "Option 2 (disabled)"
                          disabled: true
                        - value: "option3"
                          label: "Option 3"
        - type: Section
          label: "Section 33"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:rocket"
          noCollapse: false
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Tap Action"
                  helper: "I'm an action selector"
                  configValue: "configSample.actionSelector.actionTap"
                  type: Selector
                  selector:
                    ui_action:
                - label: "Double-tap Action"
                  helper: "I'm an action selector"
                  configValue: "configSample.actionSelector.actionDoubleTap"
                  type: Selector
                  selector:
                    ui_action:
                - label: "Hold Action"
                  helper: "I'm an action selector"
                  configValue: "configSample.actionSelector.actionHold"
                  type: Selector
                  selector:
                    ui_action:
        - type: ControlRow
          cssClass: "form-row two-controls"
          controls:
            - &colorLCARSListControl
              label: "LCARS Colour"
              configValue: "variables.card.background.color.default"
              type: Selector
              selector:
                select:
                  optionsCondition: |
                      (() => {
                        const styles = document.documentElement.style;
                        const options = [];
                        options.push({ value: 'transparent', label: '[[ transparent ]]' });
                        options.push({ value: 'var(--button-card-light-color)', label: '[[ Match Light Colour ]]' });
                        options.push({ value: 'var(--button-card-light-color-no-temperature)', label: '[[ Match Light Colour w/o temp. ]]' });

                        for (let i = 0; i < styles.length; i++) {
                          const name = styles[i];
                          if (name.startsWith('--cblcars-') || name.startsWith('--picard-') || name.startsWith('--lcars-')) {
                            //const value = styles.getPropertyValue(name).trim();
                            const value = `var(${name})`;
                            options.push({ value, label: name.replace('--', '') });
                          }
                        }
                        options.sort((a, b) => a.label.localeCompare(b.label));
                        return options;
                      })()
            - &colorControl
              label: "Custom Colour"
              configValue: "variables.background.color.default"
              type: Selector
              selector:
                text:
                  type: color
        - controls:
            - &colorPreviewControl
              type: ColorPreview
              configValue: "variables.card.border.color"
        - &actionsSection
          type: Section
          label: "Actions"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:gesture-double-tap"
          noCollapse: false
          rows:
            - &tapActionSection
              type: Section
              label: "Tap Action"
              icon: "mdi:gesture-tap"
              outline: true
              rows:
                - type: ControlRow
                  controls:
                    - label: "Tap Action"
                      configValue: "tap_action"
                      type: Selector
                      selector:
                        ui_action:
            - &doubleTapActionSection
              type: Section
              label: "Double-Tap Action"
              icon: "mdi:gesture-double-tap"
              outline: true
              rows:
                - controls:
                    - label: "Double-tap Action"
                      configValue: "double_tap_action"
                      type: Selector
                      selector:
                        ui_action:
            - &holdActionSection
              type: Section
              label: "Hold Action"
              icon: "mdi:gesture-tap-hold"
              outline: true
              rows:
                - controls:
                    - label: "Hold Action"
                      configValue: "hold_action"
                      type: Selector
                      selector:
                        ui_action:

        - &textSection
          type: Section
          label: "Text"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:format-textbox"
          noCollapse: false
          rows:
            - type: ControlRow
              controls:
                - label: "Show Label"
                  configValue: "show_label"
                  type: Selector
                  selector:
                    boolean:
            - type: Section
              label: "Label"
              visibilityCondition: "this._config.show_label === true"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-textbox"
              noCollapse: false
              rows:
                - type: ControlRow
                  controls:
                    - label: "Custom Label"
                      helper: "Text content (basic string - or - get fancy with <elt></elt> elements!"
                      configValue: "variables.label"
                      required: false
                      type: Selector
                      selector:
                        text:
                          multiline: true
                          type: text
                - type: Section
                  label: "Font"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  expanded: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &fontSizeControl
                          label: "Font Size"
                          configValue: "variables.text.label.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - &fontWeightControl
                          label: "Font Weight"
                          configValue: "variables.text.label.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
                - &textAlignmentSection
                  type: Section
                  label: "Alignment"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &justifyControl
                          label: "Justify"
                          helper: "Horizonal justification within the container"
                          configValue: "variables.text.label.justify"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: space-between
                                  label: Space Between
                                - value: space-around
                                  label: Space Around
                                - value: space-evenly
                                  label: Space Evenly
                        - &alignItemsControl
                          label: "Align Items"
                          helper: "Vertial alignment within the container"
                          configValue: "variables.text.label.align_items"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: baseline
                                  label: Baseline
                                - value: stretch
                                  label: Stretch
                        - &alignControl
                          label: "Align"
                          helper: "text-align property"
                          configValue: "variables.text.label.align"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: left
                                  label: Left
                                - value: center
                                  label: Center
                                - value: right
                                  label: Right
                                - value: justify
                                  label: Justify
                        - &transformControl
                          label: "Transform"
                          helper: "CSS transform (eg. 'uppercase')"
                          configValue: "variables.text.label.transform"
                          type: Selector
                          selector:
                            text:
                              type: text
                - &textPaddingSection
                  type: Section
                  label: "Padding"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:move-resize"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &textPaddingTopControl
                          label: "Padding Top"
                          configValue: "variables.text.label.padding.top"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - &textPaddingRightControl
                          label: "Padding Right"
                          configValue: "variables.text.label.padding.right"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - &textPaddingBottomControl
                          label: "Padding Bottom"
                          configValue: "variables.text.label.padding.bottom"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - &textPaddingLeftControl
                          label: "Padding Left"
                          configValue: "variables.text.label.padding.left"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                - &textColorSection
                  type: Section
                  label: "Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.text.label.color.default"
                            - <<: *colorControl
                              configValue: "variables.text.label.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.text.label.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.active"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.label.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.text.label.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.label.color.unavailable"
            - type: ControlRow
              controls:
                - label: "Show Name"
                  configValue: "show_name"
                  type: Selector
                  selector:
                    boolean:
            - type: Section
              label: "Name"
              visibilityCondition: "this._config.show_name === true"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-textbox"
              noCollapse: false
              rows:
                - type: ControlRow
                  controls:
                    - label: "Custom Name"
                      helper: "Text content (basic string - or - get fancy with <elt></elt> elements!"
                      configValue: "name"
                      required: false
                      type: Selector
                      selector:
                        text:
                          multiline: true
                          type: text
                - type: Section
                  label: "Font"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  expanded: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Font Size"
                          configValue: "variables.text.name.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - label: "Font Weight"
                          configValue: "variables.text.name.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
                - type: Section
                  label: "Alignment"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Justify"
                          helper: "Horizonal justification within the container"
                          configValue: "variables.text.name.justify"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: space-between
                                  label: Space Between
                                - value: space-around
                                  label: Space Around
                                - value: space-evenly
                                  label: Space Evenly
                        - label: "Align Items"
                          helper: "Vertial alignment within the container"
                          configValue: "variables.text.name.align_items"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: baseline
                                  label: Baseline
                                - value: stretch
                                  label: Stretch
                        - label: "Align"
                          helper: "text-align property"
                          configValue: "variables.text.name.align"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: left
                                  label: Left
                                - value: center
                                  label: Center
                                - value: right
                                  label: Right
                                - value: justify
                                  label: Justify
                        - label: "Transform"
                          helper: "CSS transform (eg. 'uppercase')"
                          configValue: "variables.text.name.transform"
                          type: Selector
                          selector:
                            text:
                              type: text
                - type: Section
                  label: "Padding"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:move-resize"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Padding Top"
                          configValue: "variables.text.name.padding.top"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Right"
                          configValue: "variables.text.name.padding.right"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Bottom"
                          configValue: "variables.text.name.padding.bottom"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Left"
                          configValue: "variables.text.name.padding.left"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                - type: Section
                  label: "Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.text.name.color.default"
                            - <<: *colorControl
                              configValue: "variables.text.name.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.text.name.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.active"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.name.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.text.name.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.name.color.unavailable"
            - type: ControlRow
              controls:
                - label: "Show State"
                  configValue: "show_state"
                  type: Selector
                  selector:
                    boolean:
            - type: Section
              label: "State"
              visibilityCondition: "this._config.show_state === true"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-textbox"
              noCollapse: false
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: "error"
                      message: "Please select an entity in order to display the state"
                      visibilityCondition: "this._config.show_state === true && !this._config.variables.entity"
                - type: Section
                  label: "State Display"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Show Units"
                          helper: "Show units provided by the entity (if available)"
                          configValue: "show_units"
                          type: Selector
                          selector:
                            boolean:
                        - label: "Units"
                          helper: "Override the displayed unit provided by the entity"
                          configValue: "units"
                          required: false
                          type: Selector
                          selector:
                            text:
                              type: text
                    - type: ControlRow
                      controls:
                        - label: "Numeric Precision"
                          helper: "Number of decimal places to display"
                          configValue: "numeric_precision"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                - type: Section
                  label: "Font"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  expanded: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Font Size"
                          configValue: "variables.text.state.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - label: "Font Weight"
                          configValue: "variables.text.state.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
                - type: Section
                  label: "Alignment"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Justify"
                          helper: "Horizonal justification within the container"
                          configValue: "variables.text.state.justify"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: space-between
                                  label: Space Between
                                - value: space-around
                                  label: Space Around
                                - value: space-evenly
                                  label: Space Evenly
                        - label: "Align Items"
                          helper: "Vertial alignment within the container"
                          configValue: "variables.text.state.align_items"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: baseline
                                  label: Baseline
                                - value: stretch
                                  label: Stretch
                        - label: "Align"
                          helper: "text-align property"
                          configValue: "variables.text.state.align"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: left
                                  label: Left
                                - value: center
                                  label: Center
                                - value: right
                                  label: Right
                                - value: justify
                                  label: Justify
                        - label: "Transform"
                          helper: "CSS transform (eg. 'uppercase')"
                          configValue: "variables.text.state.transform"
                          type: Selector
                          selector:
                            text:
                              type: text
                - type: Section
                  label: "Padding"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:move-resize"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Padding Top"
                          configValue: "variables.text.state.padding.top"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Right"
                          configValue: "variables.text.state.padding.right"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Bottom"
                          configValue: "variables.text.state.padding.bottom"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Padding Left"
                          configValue: "variables.text.state.padding.left"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                - type: Section
                  label: "Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.text.state.color.default"
                            - <<: *colorControl
                              configValue: "variables.text.state.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.text.state.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.active"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.text.state.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.text.state.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.text.state.color.unavailable"

        - &advancedSettingsToggle
          type: ControlRow
          controls:
            - label: "Show Advanced Settings"
              configValue: "show_advanced"
              disabled: false
              type: Selector
              selector:
                boolean:
        - &advancedSettingsSection
          type: Section
          label: "Advanced Settings"
          outlined: false
          leftChevron: false
          headerLevel: 4
          icon: "mdi:wrench-cog-outline"
          noCollapse: false
          visibilityCondition: "this._config.show_advanced === true"
          rows:
            - type: Section
              label: "Card Size"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:resize"
              noCollapse: true
              expanded: true
              rows:
                - type: ControlRow
                  controls:
                    - label: "Height"
                      configValue: "variables.card.height"
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - label: "Width"
                      configValue: "variables.card.width"
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - type: Message
                      alertType: info
                      message: "Enable/Disable helper that watches for resize events and adjusts card size accordingly.  Only needed for some cards.  Disable if there are undesired effects like infinite resizing loops."
                - type: ControlRow
                  controls:
                    - label: "Auto Resize Helper"
                      helper: "Enable Resize Observer for dynamic card resizing"
                      configValue: "enable_resize_observer"
                      disabled: false
                      type: Selector
                      selector:
                        boolean:
        - &cardSection
          type: Section
          label: "Card"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:card-multiple-outline"
          noCollapse: false
          rows:
            - &advCardSizeSection
              type: Section
              label: "Card Size"
              secondary: "[Advanced]"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:resize"
              noCollapse: false
              expanded: false
              visibilityCondition: "this._config.show_advanced === true"
              rows:
                - type: ControlRow
                  controls:
                    - label: "Height"
                      configValue: "variables.card.height"
                      helper: "Sets static height of the card"
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - label: "Width"
                      configValue: "variables.card.width"
                      helper: "Sets static width of the card"
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - label: "Minimum Height"
                      configValue: "variables.card.min_height"
                      helper: "Sets minimum height of the card"
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - type: Message
                      alertType: info
                      message: "Enable/Disable helper that watches for resize events and adjusts card size accordingly.  Only needed for some cards.  Disable if there are undesired effects like infinite resizing loops."
                - type: ControlRow
                  controls:
                    - label: "Auto Resize Helper"
                      helper: "Enable Resize Observer for dynamic card resizing"
                      configValue: "enable_resize_observer"
                      disabled: false
                      type: Selector
                      selector:
                        boolean:
            - &cardColorSection
              type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - type: Section
                  label: "Border"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.card.color.default"
                            - <<: *colorControl
                              configValue: "variables.card.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.card.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.active"
                                - <<: *colorControl
                                  configValue: "variables.card.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.card.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.card.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.card.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.card.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.unavailable"
                - type: Section
                  label: "Background"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.card.color.background.default"
                            - <<: *colorControl
                              configValue: "variables.card.color.background.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.card.color.background.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.active"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.inactive"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.unavailable"
            - &cardBorderSection
              type: Section
              label: Borders
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:border-style"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Left Border Size"
                      helper: "The width of the left side of LCARS"
                      configValue: "variables.card.border.left.size"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Border Size"
                      helper: "The height of the top side of LCARS"
                      configValue: "variables.card.border.top.size"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Right Border Size"
                      helper: "The width of the right side of LCARS"
                      configValue: "variables.card.border.right.size"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Border Size"
                      helper: "The height of the bottom side of LCARS"
                      configValue: "variables.card.border.bottom.size"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                - type: Section
                  label: Inner Border
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-style"
                  visibilityCondition: "this._config.type != 'custom:cb-lcars-multimeter-card'"
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - type: Selector
                          label: Scaling Factor
                          helper: This values affects the inner radius in relation to the outer radius.
                          configValue: "variables.card.border.inner.factor"
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.5
                              mode: slider
                              slider_ticks: false
                        - type: Selector
                          label: Inner Border Width
                          helper: The width of the inner border.
                          configValue: "variables.card.border.inner.width"
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
            - &cardCornerSection
              type: Section
              label: Corners
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:rounded-corner"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Top Left Radius"
                      helper: "The top left curve of LCARS"
                      configValue: "variables.card.border.top.left_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Right Radius"
                      helper: "The top right curve of LCARS"
                      configValue: "variables.card.border.top.right_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Left Radius"
                      helper: "The bottom left curve of LCARS"
                      configValue: "variables.card.border.bottom.left_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Right Radius"
                      helper: "The bottom right curve of LCARS"
                      configValue: "variables.card.border.bottom.right_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
        - &iconSection
          type: Section
          label: "Icon"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:alpha-i-circle-outline"
          noCollapse: false
          rows:
            - type: ControlRow
              controls:
                - label: "Show Icon"
                  configValue: "show_icon"
                  disabled: false
                  type: Selector
                  selector:
                    boolean:
            - type: Section
              visibilityCondition: "this._config.show_icon === true"
              label: "Icon Style"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: true
              expanded: true
              rows:
                - type: ControlRow
                  controls:
                    - label: "Icon"
                      configValue: "icon"
                      disabled: false
                      type: Selector
                      selector:
                        icon:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  rows:
                  controls:
                    - label: "Size"
                      configValue: "variables.icon.size"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        text:
                          type: number
                    - label: "Justify"
                      configValue: "variables.icon.justify"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: flex-start
                              label: Flex Start
                            - value: flex-end
                              label: Flex End
                            - value: center
                              label: Center
                            - value: space-between
                              label: Space Between
                            - value: space-around
                              label: Space Around
                            - value: space-evenly
                              label: Space Evenly
            - &iconColorSection
              type: Section
              visibilityCondition: "this._config.show_icon === true"
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - type: Section
                  label: "Default"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: true
                  expanded: true
                  rows:
                    - cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.icon.color.default"
                        - <<: *colorControl
                          configValue: "variables.icon.color.default"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.icon.color.default"
                - type: Section
                  label: "State Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Active/Inactive"
                      secondary: "[state: on/off, open/closed, locked/unlocked]"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Foreground"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: true
                          expanded: true
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.icon.color.active"
                                - <<: *colorControl
                                  configValue: "variables.icon.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.icon.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.icon.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.icon.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.inactive"
                        - type: Section
                          label: "Background"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: true
                          expanded: true
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.icon.color.background.active"
                                - <<: *colorControl
                                  configValue: "variables.icon.color.background.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.icon.color.background.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.icon.color.background.inactive"
                                - <<: *colorControl
                                  configValue: "variables.icon.color.background.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.inactive"

    - &symbiontTab
      label: Symbiont
      content:
        - type: ControlRow
          controls:
            - type: Selector
              selector:
                boolean:
              configValue: "variables.symbiont.enabled"
              label: "Join with a Symbiont"
              helper: "Become a host - join with Symbiont card."

        - &symbiontPositionSection
          type: Section
          label: "Symbiont Card"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:card-multiple-outline"
          visibilityCondition: "this._config.variables?.symbiont?.enabled === true"
          rows:
            - type: ControlRow
              controls:
                - type: Message
                  alertType: info
                  message: "Symbiont card configuration can be pasted below.  Host card entity and variables blocks will be inherited by the symbiont card, but can be overriden if desired."
                - type: Selector
                  selector:
                    object:
                  configValue: "custom_fields.symbiont.card"
                  label: "Symbiont Card Configuration"
                  helper: "Enter the configuration for the symbiont card."
            - type: Section
              label: "Symbiont Dimensions"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-align-left"
              noCollapse: false
              expanded: false
              visibilityCondition: "this._config.show_advanced === true"
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "By default, the symbiont will fill the dimensions of the card minus padding."
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Height"
                      configValue: "variables.symbiont.card.height"
                      helper: "Sets static height of the symbiont "
                      disabled: false
                      type: Selector
                      selector:
                        text:
                    - label: "Width"
                      configValue: "variables.symbiont.card.width"
                      helper: "Sets static width of the symbiont"
                      disabled: false
                      type: Selector
                      selector:
                        text:
            - type: Section
              label: "Padding"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:move-resize"
              noCollapse: false
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "Padding is the space between the symbiont card and the borders of the host card."
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Padding Top"
                      configValue: "variables.symbiont.card.padding.top"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Padding Right"
                      configValue: "variables.symbiont.card.padding.right"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Padding Bottom"
                      configValue: "variables.symbiont.card.padding.bottom"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Padding Left"
                      configValue: "variables.symbiont.card.padding.left"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
        - type: Section
          label: "Symbiont Style"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:set-center-right"
          visibilityCondition: "this._config.variables?.symbiont?.enabled === true"
          rows:
            - type: ControlRow
              controls:
                - type: Message
                  alertType: info
                  message: "Imprinting will attempt to apply the state-specific host card styles/colours to the symbiont.  Styles such as background color, text color, corner radius, etc."
                - type: Selector
                  selector:
                    boolean:
                  configValue: "variables.symbiont.imprint_host"
                  label: "Imprint Host styles on Symbiont"
                  helper: "Attempt to modify various styles on the symbiont card to match the host."
            - &symbiontHostImprint
              type: Section
              label: "Imprint Host Styles"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              visibilityCondition: "this._config.variables?.symbiont?.imprint_host === true"
              rows:
                - &symbiontCornerSection
                  type: Section
                  label: Corners
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:rounded-corner"
                  rows:
                    - type: ControlRow
                      controls:
                        - type: Message
                          alertType: info
                          message: "Set the corner radius of the symbiont card.  These may not be visible when the host style is imprinted on the symbiont as the colours may match."
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Top Left Radius"
                          helper: "The top left curve of symbiont"
                          configValue: "variables.symbiont.card.border.top.left_radius"
                          disabled: false
                          required: true
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Top Right Radius"
                          helper: "The top right curve of symbiont"
                          configValue: "variables.symbiont.card.border.top.right_radius"
                          disabled: false
                          required: true
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Bottom Left Radius"
                          helper: "The bottom left curve of symbiont"
                          configValue: "variables.symbiont.card.border.bottom.left_radius"
                          disabled: false
                          required: true
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Bottom Right Radius"
                          helper: "The bottom right curve of symbiont"
                          configValue: "variables.symbiont.card.border.bottom.right_radius"
                          disabled: false
                          required: true
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                - type: ControlRow
                  controls:
                    - label: Imprint Host Text Colour
                      configValue: "variables.symbiont.text.imprint_from"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "label"
                              label: "Label"
                            - value: "state"
                              label: "State"
                            - value: "name"
                              label: "Name"
            - type: Section
              label: "Addtional Custom Styles"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "Additional style blocks can be added to the symbiont card.  These will be applied after the host styles.  Card-Mod jinja templating is supported - host card 'variables' object and 'entity' are made available in addtion to the standard card-mod variables."
                    - type: Selector
                      selector:
                        object:
                      configValue: "variables.symbiont.symbiont_user_style"
                      label: "Symbiont Style Block"
                      helper: "Additional card-mod style block for the symbiont card."
    - &animationsTab
      label: "Animations & Effects"
      content:
        - &animationsSection
          type: Section
          label: "Background Animations"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:animation-outline"
          noCollapse: false
          expanded: false
          rows:
            - type: ControlRow
              controls:
                - type: Message
                  alertType: info
                  message: "Select a background animation to apply to the card (due to limitations, multiple can be selected, but only one is applied).  Additional per-animation settings are avaiable in the corresponding tab."
                - label: "Background Animations"
                  configValue: "template"
                  disabled: false
                  required: false
                  type: Selector
                  selector:
                    select:
                      mode: list
                      multiple: true
                      options:
                        - value: "cb-lcars-animation-alert"
                          label: "ALERT"
                        - value: "cb-lcars-animation-geo-array"
                          label: "GEO Array"
                        - value: "cb-lcars-animation-bg-grid"
                          label: "GRID"
                        - value: "cb-lcars-animation-cascade"
                          label: "Data Cascade"
                        - value: "cb-lcars-animation-pulsewave"
                          label: "Pulsewave"
            - &animationAdvancedSection
              type: Section
              label: "Advanced Settings"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              rows:
                - type: Section
                  label: "CSS Filters"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:filter"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Blur"
                          configValue: "variables.animation.filter.blur"
                          helper: "Amount of blur to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 25
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Opacity"
                          configValue: "variables.animation.filter.opacity"
                          helper: "Amount of opacity to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Brightness"
                          configValue: "variables.animation.filter.brightness"
                          helper: "Amount of brightness to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Contrast"
                          configValue: "variables.animation.filter.contrast"
                          helper: "Amount of contrast to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Saturate"
                          configValue: "variables.animation.filter.saturate"
                          helper: "Amount of saturation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Hue Rotate"
                          configValue: "variables.animation.filter.hue_rotate"
                          helper: "Amount of hue rotation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 360
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Invert"
                          configValue: "variables.animation.filter.invert"
                          helper: "Amount of invert to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Grayscale"
                          configValue: "variables.animation.filter.grayscale"
                          helper: "Amount of grayscale to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Sepia"
                          configValue: "variables.animation.filter.sepia"
                          helper: "Amount of sepia to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                    - type: ControlRow
                      controls:
                      - type: Message
                        alertType: info
                        message: "Advanced: specify custom filter string to apply for the entire animation.  This will override all other filter settings."
                      - label: "CSS Filter"
                        configValue: "variables.animation.filter.advanced"
                        helper: "CSS `filter` property to apply to the animation"
                        type: Selector
                        selector:
                          text:
                            multiline: false
                - type: Section
                  label: "CSS Transform"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Scale"
                          configValue: "variables.animation.transform.scale"
                          helper: "Amount of scale to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.1
                              mode: slider
                              slider_ticks: false
                        - label: "Scale X"
                          configValue: "variables.animation.transform.scale_x"
                          helper: "Amount of horizontal scale to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.1
                              mode: slider
                              slider_ticks: false
                        - label: "Scale Y"
                          configValue: "variables.animation.transform.scale_y"
                          helper: "Amount of vertical scale to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.1
                              mode: slider
                              slider_ticks: false
                        - label: "Scale Z"
                          configValue: "variables.animation.transform.scale_z"
                          helper: "Amount of depth scale to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.1
                              mode: slider
                              slider_ticks: false
                        - label: "Rotate"
                          configValue: "variables.animation.transform.rotate"
                          helper: "Amount of rotation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 360
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Rotate X"
                          configValue: "variables.animation.transform.rotate_x"
                          helper: "Amount of horizontal rotation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -180
                              max: 180
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Rotate Y"
                          configValue: "variables.animation.transform.rotate_y"
                          helper: "Amount of vertical rotation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -180
                              max: 180
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Rotate Z"
                          configValue: "variables.animation.transform.rotate_z"
                          helper: "Amount of depth rotation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -180
                              max: 180
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Translate X"
                          configValue: "variables.animation.transform.translate_x"
                          helper: "Amount of horizontal translation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -100
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Translate Y"
                          configValue: "variables.animation.transform.translate_y"
                          helper: "Amount of vertical translation to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -100
                              max: 100
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                              slider_ticks: false
                        - label: "Skew"
                          configValue: "variables.animation.transform.skew"
                          helper: "Amount of skew to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: -45
                              max: 45
                              step: 1
                              mode: slider
                              unit_of_measurement: "deg"
                              slider_ticks: false
                        - label: "Perspective"
                          configValue: "variables.animation.transform.perspective"
                          helper: "Amount of perspective to apply to the animation"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 1000
                              step: 25
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                    - type: ControlRow
                      controls:
                        - type: Message
                          alertType: info
                          message: "Advanced: specify custom transform string to apply for the entire animation.  This will override all other transform settings."
                        - label: "CSS Transform"
                          configValue: "variables.animation.transform.advanced"
                          helper: "CSS `transform` property to apply to the animation"
                          type: Selector
                          selector:
                            text:
                              multiline: false
                        - label: "CSS Transform Origin"
                          configValue: "variables.animation.transform_origin"
                          helper: "CSS `transform=origin` property to apply to the animation"
                          type: Selector
                          selector:
                            text:
                              multiline: false

                - type: Section
                  label: "Animation Container"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:resize"
                  noCollapse: false
                  expanded: false
                  rows:
                    - type: ControlRow
                      controls:
                        - type: Message
                          alertType: info
                          message: "By default, the animation container will fill the dimensions of the card.  If a custom animation container size is specified, these settings will set the position of container on the card."
                    - type: Section
                      label: "Container Dimensions"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:format-align-left"
                      noCollapse: false
                      expanded: false
                      rows:
                        - type: ControlRow
                          cssClass: "form-row two-controls"
                          controls:
                            - label: "Height"
                              configValue: "variables.animation.height"
                              helper: "Sets static height of the animation container"
                              disabled: false
                              type: Selector
                              selector:
                                text:
                            - label: "Width"
                              configValue: "variables.animation.width"
                              helper: "Sets static width of the animation container"
                              disabled: false
                              type: Selector
                              selector:
                                text:
                    - type: Section
                      label: "Container Alignment"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:format-align-left"
                      noCollapse: false
                      expanded: false
                      rows:
                        - type: ControlRow
                          cssClass: "form-row two-controls"
                          controls:
                            - label: "Justify"
                              helper: "Horizonal justification on the card"
                              configValue: "variables.animation.justify_content"
                              type: Selector
                              selector:
                                select:
                                  mode: dropdown
                                  options:
                                    - value: flex-start
                                      label: Flex Start
                                    - value: flex-end
                                      label: Flex End
                                    - value: center
                                      label: Center
                                    - value: space-between
                                      label: Space Between
                                    - value: space-around
                                      label: Space Around
                                    - value: space-evenly
                                      label: Space Evenly
                            - label: "Align Items"
                              helper: "Vertial alignment on the card"
                              configValue: "variables.animation.align_items"
                              type: Selector
                              selector:
                                select:
                                  mode: dropdown
                                  options:
                                    - value: flex-start
                                      label: Flex Start
                                    - value: flex-end
                                      label: Flex End
                                    - value: center
                                      label: Center
                                    - value: baseline
                                      label: Baseline
                                    - value: stretch
                                      label: Stretch

        - &effectsSection
          type: Section
          label: "Card Effects"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:card-multiple-outline"
          noCollapse: false
          expanded: false
          rows:
            - type: ControlRow
              controls:
                - type: Message
                  alertType: info
                  message: "Select one or more effects to apply to the card.  Additional settings for the effects are available in the corresponding tab."
                - label: "Effect Templates"
                  configValue: "template"
                  disabled: false
                  required: false
                  type: Selector
                  selector:
                    select:
                      mode: list
                      multiple: true
                      options:
                        - value: "cb-lcars-state-on-blink"
                          label: "Blink [Active]"
                        - value: "cb-lcars-state-off-blink"
                          label: "Blink [Inactive]"
                        - value: "cb-lcars-state-unavailable-blink"
                          label: "Blink [Unavailable]"
                        - value: "cb-lcars-animate-press"
                          label: "Rippled Press"
            - type: Section
              label: Ripple
              visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animate-press')"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              rows:
                - type: ControlRow
                  controls:
                    - type: RawHTML
                      html: |
                          <label>Base Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animations.ripple.ripple_color"
                    - <<: *colorControl
                      configValue: "variables.animations.ripple.ripple_color"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animations.ripple.ripple_color"
                    - label: "Ripple Opacity"
                      configValue: "variables.animations.ripple.ripple_opacity"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 1
                          step: 0.1
                          mode: slider
                          slider_ticks: true
    - &dataCascadeTab
      label: "Data Cascade"
      visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animation-cascade')"
      content:
        - type: Section
          label: "Cascade"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:matrix"
          noCollapse: false
          expanded: true
          rows:
            - &cascadePatternSection
              type: Section
              label: "Pattern"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              expanded: true
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Select the pattern of the data cascade animation."
                    - label: "Pattern"
                      configValue: "variables.animation.cascade.pattern"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "default"
                              label: "Default"
                            - value: "niagara"
                              label: "Niagara"
                            - value: "frozen"
                              label: "Frozen"
                            - value: "custom"
                              label: "Custom"
                - type: Section
                  label: "Custom Pattern"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-list-bulleted"
                  noCollapse: false
                  visibilityCondition: "(this._config?.variables?.animation?.cascade?.pattern ?? '') === 'custom'"
                  rows:
                    - controls:
                        - type: Message
                          alertType: warning
                          message: "Advanced: Custom animation patterns and keyframes can be defined - please refer to the documentation for more information."
                    - controls:
                        - label: "Custom Animation Pattern"
                          configValue: "variables.animation.cascade.custom_pattern"
                          type: Selector
                          selector:
                            text:
                              multiline: true
                    - controls:
                        - label: "Custom Keyframes"
                          configValue: "variables.animation.cascade.custom_keyframes"
                          type: Selector
                          selector:
                            text:
                              multiline: true
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Base Colour</label>
                - cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.cascade.color.text"
                    - <<: *colorControl
                      configValue: "variables.animation.cascade.color.text"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.cascade.color.text"

                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation Start Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.cascade.color.animation_start"
                    - <<: *colorControl
                      configValue: "variables.animation.cascade.color.animation_start"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.cascade.color.animation_start"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation End Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.cascade.color.animation_end"
                    - <<: *colorControl
                      configValue: "variables.animation.cascade.color.animation_end"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.cascade.color.animation_end"
            - &cascadeTextSection
              type: Section
              label: "Text"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-textbox"
              noCollapse: false
              expanded: false
              rows:
                - type: Section
                  label: "Size & Weight"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: true
                  expanded: true
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &fontSizeControl
                          label: "Font Size"
                          configValue: "variables.animation.cascade.text.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - &fontWeightControl
                          label: "Font Weight"
                          configValue: "variables.animation.cascade.text.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
            - &cascadeGridSection
              type: Section
              label: "Grid"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:grid"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Grid dimensions are calculated automatically by default using the card's size and font size.  Here you can provide specific values to override the automatic settings."
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "# Columns"
                      configValue: "variables.animation.cascade.grid.num_cols"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 100
                          step: 1
                          mode: slider
                    - label: "# Rows"
                      configValue: "variables.animation.cascade.grid.num_rows"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 100
                          step: 1
                          mode: slider
                    - label: "Column Width"
                      configValue: "variables.animation.cascade.grid.column_width"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1
                    - label: "Row Height"
                      configValue: "variables.animation.cascade.grid.row_height"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1
                    - label: "Grid Gap"
                      configValue: "variables.animation.cascade.grid.gap"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1
    - &alertConditionTab
      label: "ALERT Condition"
      visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animation-alert')"
      content:
        - type: Section
          label: "Alert Condition"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:alert-box-outline"
          noCollapse: true
          expanded: true
          rows:
            - &presetSection
              type: Section
              label: "Styles & Presets"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              expanded: true
              rows:
                - controls:
                    - type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "default"
                              label: "Default"
                            - value: "condensed"
                              label: "Condensed"
                      configValue: "variables.animation.alert.size"
                      label: "Size"
                    - type: Selector
                      label: "Enable State-Based Alert Presets"
                      selector:
                        boolean:
                      configValue: "variables.animation.alert.range.enabled"
                    - type: Message
                      alertType: info
                      message: "State-based alert presets allow you to apply different alert settings based on the state of the entity/attribue.  If enabled, the following settings will be used to select the alert condition to apply.  Please refer to the documentation for more information."
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled === true"
                    - label: "Entity [same as the card entity]"
                      configValue: "variables.entity"
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled === true"
                      type: Selector
                      selector:
                        entity:
                    - label: "Attribute [same as the card attribute]"
                      configValue: "variables.attribute"
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled === true && this._config?.variables?.entity"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          optionsCondition: |
                            (() => {
                              const entityId = this._config?.variables?.entity;
                              const hass = this._hass || this.hass;
                              if (!entityId || !hass?.states?.[entityId]) {
                                return [];
                              }
                              const entity = hass.states[entityId];
                              if (!entity.attributes || typeof entity.attributes !== "object") {
                                return [];
                              }
                              return Object.entries(entity.attributes)
                                .filter(([_, value]) =>
                                  value === null ||
                                  ["string", "number", "boolean"].includes(typeof value)
                                )
                                .map(([key]) => ({
                                  value: key,
                                  label: key
                                }));
                            })()
                    - type: Message
                      alertType: info
                      message: "Note: for convenience 'brightness' attribute is automatically converted from 0-255 to 0-100%."
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled === true && this._config?.variables?.attribute === 'brightness'"
                    - type: Selector
                      selector:
                        object:
                      configValue: "variables.animation.alert.range.ranges"
                      label: "State-based Alert Settings"
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled === true"
                    - type: Message
                      alertType: info
                      message: "Select from the Alert Condition presets, or provide custom presets below."
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled != true"
                    - label: "Preset"
                      visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled != true"
                      configValue: "variables.animation.alert.preset"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "default"
                              label: "Default [no preset]"
                            - value: "condition_red"
                              label: "Condition: RED"
                            - value: "condition_yellow"
                              label: "Condition: YELLOW"
                            - value: "condition_green"
                              label: "Condition: GREEN"
                            - value: "condition_blue"
                              label: "Condition: BLUE"
                            - value: "condition_black"
                              label: "Condition: BLACK"
                            - value: "condition_grey"
                              label: "Condition: GREY"
                            - value: "custom"
                              label: "Custom [user provided]"
                - type: Section
                  label: "Customize Presets"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-list-bulleted"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: Message
                          alertType: info
                          message: "Advanced: Provide your own list of custom alert presets, or customize individual settings of the standard presets.  Please refer to the documentation for more information."
                        - label: "Custom Preset Name"
                          configValue: "variables.animation.alert.preset"
                          visibilityCondition: "this._config.variables?.animation?.alert?.range?.enabled != true"
                          type: Selector
                          selector:
                            text:
                        - type: Selector
                          selector:
                            object:
                          configValue: "variables.animation.alert.custom_alert_presets"
                          label: "Custom Alert Presets"
            - type: Section
              label: "Default Preset Colours"
              visibilityCondition: "(!this._config?.variables?.animation?.alert?.preset || this._config?.variables?.animation?.alert?.preset === 'default')"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "These colours are used by the default alert preset.  If you have selected a custom preset, these colours will not be used."
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Shape Colour</label>
                - cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.alert.color.shape.default"
                    - <<: *colorControl
                      configValue: "variables.animation.alert.color.shape.default"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.alert.color.shape.default"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Bar Animation Base Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.alert.color.bars.animation_base"
                    - <<: *colorControl
                      configValue: "variables.animation.alert.color.bars.animation_base"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.alert.color.bars.animation_base"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Bar Animation Flash Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.alert.color.bars.animation_flash"
                    - <<: *colorControl
                      configValue: "variables.animation.alert.color.bars.animation_flash"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.alert.color.bars.animation_flash"
            - &alertTextSection
              type: Section
              label: "Text"
              visibilityCondition: "(!this._config?.variables?.animation?.alert?.preset || this._config?.variables?.animation?.alert?.preset === 'default')"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-textbox"
              noCollapse: false
              expanded: false
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "Use 'custom presets' feature if you would like to change text for the builtin presets."
                - type: Section
                  label: "Alert Text (top line)"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  expanded: true
                  rows:
                    - type: ControlRow
                      controls:
                        - label: "Alert Text (top line)"
                          configValue: "variables.animation.alert.alert_text"
                          type: Selector
                          selector:
                            text:
                              multiline: false
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &fontSizeControl
                          label: "Font Size"
                          configValue: "variables.animation.alert.text.alert_text.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - &fontWeightControl
                          label: "Font Weight"
                          configValue: "variables.animation.alert.text.alert_text.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
                        - label: "Stretch to Fit"
                          configValue: "variables.animation.alert.text.alert_text.stretch"
                          type: Selector
                          selector:
                            boolean:
                              mode: checkbox
                        - label: "Align"
                          configValue: "variables.animation.alert.text.alert_text.align"
                          visibilityCondition: "this._config.variables?.animation?.alert?.text?.alert_text?.stretch === false"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: left
                                  label: Left
                                - value: center
                                  label: Center
                                - value: right
                                  label: Right
                    - type: Section
                      label: "Colour"
                      outlined: true
                      leftChevron: false
                      headerLevel: 3
                      icon: "mdi:select-color"
                      noCollapse: false
                      collapsed: false
                      rows:
                        - type: ControlRow
                          controls:
                            - type: RawHTML
                              html: |
                                  <label>Alert (top line) Colour</label>
                        - type: ControlRow
                          cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.animation.alert.text.alert_text.color.default"
                            - <<: *colorControl
                              configValue: "variables.animation.alert.text.alert_text.color.default"
                        - type: ControlRow
                          controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.animation.alert.text.alert_text.color.default"

                - type: Section
                  label: "Sub Text (bottom line)"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  expanded: true
                  rows:
                    - controls:
                        - label: "Sub Text (bottom line)"
                          configValue: "variables.animation.alert.sub_text"
                          type: Selector
                          selector:
                            text:
                              multiline: false
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - &fontSizeControl
                          label: "Font Size"
                          configValue: "variables.animation.alert.text.sub_text.font_size"
                          type: Selector
                          selector:
                            text:
                              type: number
                        - &fontWeightControl
                          label: "Font Weight"
                          configValue: "variables.animation.alert.text.sub_text.font_weight"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: 100
                                  label: Thin (100)
                                - value: 200
                                  label: Extra Light (200)
                                - value: 300
                                  label: Light (300)
                                - value: 400
                                  label: Normal (400)
                                - value: 500
                                  label: Medium (500)
                                - value: 600
                                  label: Semi Bold (600)
                                - value: 700
                                  label: Bold (700)
                                - value: 800
                                  label: Extra Bold (800)
                                - value: 900
                                  label: Black (900)
                        - label: "Stretch to Fit"
                          configValue: "variables.animation.alert.text.sub_text.stretch"
                          type: Selector
                          selector:
                            boolean:
                              mode: checkbox
                        - label: "Align"
                          configValue: "variables.animation.alert.text.sub_text.align"
                          visibilityCondition: "this._config.variables?.animation?.alert?.text?.sub_text?.stretch === false"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: left
                                  label: Left
                                - value: center
                                  label: Center
                                - value: right
                                  label: Right
                    - type: Section
                      label: "Colour"
                      outlined: true
                      leftChevron: false
                      headerLevel: 3
                      icon: "mdi:select-color"
                      noCollapse: false
                      collapsed: false
                      rows:
                        - type: ControlRow
                          controls:
                            - type: RawHTML
                              html: |
                                  <label>Sub (bottom line) Colour</label>
                        - type: ControlRow
                          cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.animation.alert.text.sub_text.color.default"
                            - <<: *colorControl
                              configValue: "variables.animation.alert.text.sub_text.color.default"
                        - type: ControlRow
                          controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.animation.alert.text.sub_text.color.default"
            - &alertAnimationSection
              type: Section
              label: "Animation Settings"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:animation-outline"
              noCollapse: false
              expanded: false
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Enable Bar Animation"
                      configValue: "variables.animation.alert.enable_bar_animation"
                      type: Selector
                      selector:
                        boolean:
                    - label: "Bar Animation Duration (s)"
                      configValue: "variables.animation.alert.animation_duration"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          step: 0.1
                    - label: "Blink Text"
                      configValue: "variables.animation.alert.enable_blink"
                      type: Selector
                      selector:
                        boolean:
                    - label: "Blink Duration (s)"
                      configValue: "variables.animation.alert.blink_duration"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          step: 0.1











    - &geoArrayTab
      label: "GEO Array"
      visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animation-geo-array')"
      content:
        - type: Section
          label: "GEO Animation"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:matrix"
          noCollapse: false
          expanded: true
          rows:
            - &geoArrayPatternSection
              type: Section
              label: "Pattern"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              expanded: true
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Select the pattern of the animation."
                    - label: "Pattern"
                      configValue: "variables.animation.geo_array.pattern"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "default"
                              label: "Default"
                            - value: "niagara"
                              label: "Niagara"
                            - value: "frozen"
                              label: "Frozen"
                            - value: "custom"
                              label: "Custom"
                - type: Section
                  label: "Custom Pattern"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-list-bulleted"
                  noCollapse: false
                  visibilityCondition: "(this._config?.variables?.animation?.geo_array?.pattern ?? '') === 'custom'"
                  rows:
                    - controls:
                        - type: Message
                          alertType: warning
                          message: "Advanced: Custom animation patterns and keyframes can be defined - please refer to the documentation for more information."
                    - controls:
                        - label: "Custom Animation Pattern"
                          configValue: "variables.animation.geo_array.custom_pattern"
                          type: Selector
                          selector:
                            text:
                              multiline: true
                    - controls:
                        - label: "Custom Keyframes"
                          configValue: "variables.animation.geo_array.custom_keyframes"
                          type: Selector
                          selector:
                            text:
                              multiline: true
                - controls:
                    - label: "Animation Axis"
                      configValue: "variables.animation.geo_array.animation_axis"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "row"
                              label: "Row"
                            - value: "col"
                              label: "Column"
            - &geoArrayShapeSection
              type: Section
              label: "Shape"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:shape"
              noCollapse: false
              expanded: false
              rows:
                - type: Section
                  label: "Type & Size"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:shape"
                  noCollapse: true
                  expanded: true
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Type"
                          configValue: "variables.animation.geo_array.shape.type"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: square
                                  label: Square
                                - value: circle
                                  label: Circle
                                - value: ellipse
                                  label: Ellipse
                                - value: triangle
                                  label: Triangle
                                - value: diamond
                                  label: Diamond
                                - value: hexagon
                                  label: Hexagon
                                - value: pentagon
                                  label: Pentagon
                                - value: octagon
                                  label: Octagon
                                - value: cross
                                  label: Cross
                        - label: "Size"
                          configValue: "variables.animation.geo_array.shape.size"
                          type: Selector
                          selector:
                            text:
                              type: number
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Base Colour</label>
                - cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.geo_array.color.base"
                    - <<: *colorControl
                      configValue: "variables.animation.geo_array.color.base"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.geo_array.color.base"

                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation Start Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.geo_array.color.animation_start"
                    - <<: *colorControl
                      configValue: "variables.animation.geo_array.color.animation_start"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.geo_array.color.animation_start"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation End Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.geo_array.color.animation_end"
                    - <<: *colorControl
                      configValue: "variables.animation.geo_array.color.animation_end"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.geo_array.color.animation_end"
            - &geoArrayGridSection
              type: Section
              label: "Grid"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:grid"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Grid dimensions are calculated automatically by default using the card's size and font size.  Here you can provide specific values to override the automatic settings."
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "# Columns"
                      configValue: "variables.animation.geo_array.grid.num_cols"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 100
                          step: 1
                          mode: slider
                    - label: "# Rows"
                      configValue: "variables.animation.geo_array.grid.num_rows"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 100
                          step: 1
                          mode: slider
                    - label: "Column Width"
                      configValue: "variables.animation.geo_array.grid.column_width"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1
                    - label: "Row Height"
                      configValue: "variables.animation.geo_array.grid.row_height"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1
                    - label: "Grid Gap"
                      configValue: "variables.animation.geo_array.grid.gap"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          step: 1

    - &pulsewaveTab
      label: "Pulsewave"
      visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animation-pulsewave')"
      content:
        - type: Section
          label: "Pulsewave"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:sine-wave"
          noCollapse: false
          expanded: true
          rows:
            - &pulsewavePatternSection
              type: Section
              label: "Pattern"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:format-list-bulleted"
              noCollapse: false
              expanded: true
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Select the pattern of the pulsewave animation."
                    - label: "Pattern"
                      configValue: "variables.animation.pulsewave.pattern"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "default"
                              label: "Default"
                            - value: "niagara"
                              label: "Niagara"
                            - value: "sine"
                              label: "Sine"
                            - value: "square"
                              label: "Square"
                            - value: "triangle"
                              label: "Triangle"
                            - value: "sawtooth"
                              label: "Sawtooth"
                            - value: "random"
                              label: "Random"
                            - value: "custom"
                              label: "Custom"
                - type: Section
                  label: "Custom Pattern"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-list-bulleted"
                  noCollapse: false
                  visibilityCondition: "this._config.variables.animation?.pulsewave && this._config.variables.animation?.pulsewave?.pattern === 'custom'"
                  rows:
                    - controls:
                        - type: Message
                          alertType: warning
                          message: "Advanced: Custom animation patterns and keyframes can be defined - please refer to the documentation for more information."
                    - controls:
                        - label: "Custom Animation Pattern"
                          configValue: "variables.animation.pulsewave.custom_pattern"
                          type: Selector
                          selector:
                            text:
                              multiline: true
                    - controls:
                        - label: "Custom Keyframes"
                          configValue: "variables.animation.pulsewave.custom_keyframes"
                          type: Selector
                          selector:
                            text:
                              multiline: true
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Base Colour</label>
                - cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.pulsewave.color.line_color"
                    - <<: *colorControl
                      configValue: "variables.animation.pulsewave.color.line_color"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.pulsewave.color.line_color"

                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation Start Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.pulsewave.color.animation_start"
                    - <<: *colorControl
                      configValue: "variables.animation.pulsewave.color.animation_start"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.pulsewave.color.animation_start"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>Animation End Colour</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.animation.pulsewave.color.animation_end"
                    - <<: *colorControl
                      configValue: "variables.animation.pulsewave.color.animation_end"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.animation.pulsewave.color.animation_end"
            - type: Section
              label: "Advanced Settings"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:sine-wave"
              noCollapse: false
              expanded: false
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "By default, the pulsewave pattern will repeat to fill the width of the card, and scale line lengths to the height of the card.  These settings can be overriden to customize the effect."
                - type: Section
                  label: "Line Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Angle"
                          configValue: "variables.animation.pulsewave.line_angle"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 360
                              step: 1
                        - label: "# Lines"
                          configValue: "variables.animation.pulsewave.num_lines"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              step: 1
                        - label: "Width [odd lines]"
                          configValue: "variables.animation.pulsewave.line_width"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 100
                              step: 1
                              mode: slider
                        - label: "Line Width [even lines]"
                          configValue: "variables.animation.pulsewave.line_width_even"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 100
                              step: 1
                              mode: slider
                        - label: "Scale Line Heights"
                          configValue: "variables.animation.pulsewave.scale_line_heights"
                          helper: "Scale line heights to fit to the height of the card (otherwise specified heights will be used)"
                          type: Selector
                          selector:
                            boolean:
                        - label: "Line Heights"
                          configValue: "variables.animation.pulsewave.line_heights"
                          helper: "Array of heights to use for each line"
                          type: Selector
                          selector:
                            text:
                              type: number
                              multiple: true
                - type: Section
                  label: "Internal Alignment"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-align-left"
                  noCollapse: false
                  expanded: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Justify"
                          helper: "Horizonal justification within the container"
                          configValue: "variables.animation.pulsewave.justify_content"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: space-between
                                  label: Space Between
                                - value: space-around
                                  label: Space Around
                                - value: space-evenly
                                  label: Space Evenly
                        - label: "Align Items"
                          helper: "Vertial alignment within the container"
                          configValue: "variables.animation.pulsewave.align_items"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: flex-start
                                  label: Flex Start
                                - value: flex-end
                                  label: Flex End
                                - value: center
                                  label: Center
                                - value: baseline
                                  label: Baseline
                                - value: stretch
                                  label: Stretch

    - &gridBgTab
      label: "GRID Background"
      visibilityCondition: "this._config.template && this._config.template.includes('cb-lcars-animation-bg-grid')"
      content:
        - type: Section
          label: "GRID Background"
          outlined: true
          leftChevron: false
          headerLevel: 4
          icon: "mdi:matrix"
          noCollapse: false
          expanded: true
          rows:
            - &gridMotionSettingsSection
              type: Section
              label: "Global Motion Settings"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:motion-outline"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "These settings control the global motion effect of the background and grid layers together.  You can override these settings independently in the background and grid sections below."
                    - label: "Speed (s)"
                      configValue: "variables.animation.bg_grid.speed"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 60
                          step: 0.5
                          mode: slider
                - controls:
                    - label: "Motion Effect"
                      configValue: "variables.animation.bg_grid.effect"
                      type: Selector
                      selector:
                        select:
                          mode: radio
                          options:
                            - value: "scroll"
                              label: "Scroll"
                            - value: "zoom"
                              label: "Zoom"
                            - value: "none"
                              label: "None"
                    - label: "Scroll Direction"
                      configValue: "variables.animation.bg_grid.direction"
                      visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.effect === 'scroll'"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "up"
                              label: "Up"
                            - value: "down"
                              label: "Down"
                            - value: "left"
                              label: "Left"
                            - value: "right"
                              label: "Right"
                - &bgGridZoom
                  type: Section
                  label: "Zoom Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:move-resize-variant"
                  noCollapse: false
                  expanded: true
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.effect === 'zoom'"
                  rows:
                    - controls:
                        - type: Message
                          alertType: info
                          message: "Each layer will zoom in until the layer is scaled by the factor.  It will fade in and out based on the opacity stops."
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Zoom Layers"
                          configValue: "variables.animation.bg_grid.zoom.layers"
                          helper: "Number of layers to zoom in the background"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "Scale Size"
                          configValue: "variables.animation.bg_grid.zoom.scale_to"
                          helper: "Scale factor of the zoom effect"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                              2unit_of_measurement: "x"
                        - label: "Opacity Fade In"
                          configValue: "variables.animation.bg_grid.zoom.opacity_fade_in"
                          helper: "At what percent of the zoom should the opacity fade in"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              slider_ticks: true
                              2unit_of_measurement: "%"

                        - label: "Opacity Fade Out"
                          configValue: "variables.animation.bg_grid.zoom.opacity_fade_out"
                          helper: "At what percent of the zoom should the opacity fade out"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 100
                              step: 1
                              mode: slider
                              slider_ticks: true
                              2unit_of_measurement: "%"
            - &gridPatternSection
              type: Section
              label: "Background"
              icon: "mdi:star-shooting-outline"
              outlined: true
              leftChevron: false
              headerLevel: 4
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "Select the pattern of the background behind the grid."
                    - label: "Pattern"
                      configValue: "variables.animation.bg_grid.background_pattern"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "none"
                              label: "None"
                            - value: "fill"
                              label: "Fill"
                            - value: "stars"
                              label: "Stars"
                            - value: "nebula"
                              label: "Nebula"
                - type: Section
                  label: "Star Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:star-cog-outline"
                  noCollapse: false
                  expanded: true
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.background_pattern === 'stars'"
                  rows:
                    - type: ControlRow
                      controls:
                        - label: "Star Count"
                          configValue: "variables.animation.bg_grid.stars.count"
                          helper: "Number of stars for background"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 500
                              step: 1
                              mode: slider
                        - label: "Scale Size"
                          configValue: "variables.animation.bg_grid.background_zoom.scale_to"
                          helper: "Scale factor of the zoom effect"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              unit_of_measurement: "x"
                              mode: slider

                        - label: "Minumum Radius"
                          configValue: "variables.animation.bg_grid.stars.min_radius"
                          helper: "Minimum radius of the stars"
                          type: Selector
                          selector:
                            number:
                              min: 0.1
                              max: 5
                              step: 0.1
                              mode: slider
                              slider_ticks: true
                              unit_of_measurement: "px"
                        - label: "Maximum Radius"
                          configValue: "variables.animation.bg_grid.stars.max_radius"
                          helper: "Maximum radius of the stars"
                          type: Selector
                          selector:
                            number:
                              min: 0.1
                              max: 15
                              step: 0.1
                              mode: slider
                              slider_ticks: true
                              unit_of_measurement: "px"
                        - label: "Minumum Brightness"
                          configValue: "variables.animation.bg_grid.stars.min_brightness"
                          helper: "Minimum brightness of the stars"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 1
                              step: 0.01
                              mode: slider
                              slider_ticks: true
                              unit_of_measurement: ""
                        - label: "Maximum Brightness"
                          configValue: "variables.animation.bg_grid.stars.max_brightness"
                          helper: "Maximum brightness of the stars"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 1
                              step: 0.01
                              mode: slider
                              slider_ticks: true
                              unit_of_measurement: ""
                    - type: Section
                      label: "Star Colours"
                      outlined: false
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - visibilityCondition: "!Array.isArray(this._config.variables?.animation?.bg_grid?.stars?.color)"
                          controls:
                            - type: Message
                              alertType: info
                              message: "Tip: Pick a singular colour below - or for multiple colours, you can provide an array in the YAML: [var(--lcars-blue), '#00ff00', rgba(255, 0, 0, 0.5)]"
                        - visibilityCondition: "Array.isArray(this._config.variables?.animation?.bg_grid?.stars?.color)"
                          controls:
                            - type: Message
                              alertType: warning
                              message: "Multiple colours are defined - colour picker disabled.  Please edit the list as text below or in the code editor."
                        - cssClass: "form-row two-controls"
                          visibilityCondition: "!Array.isArray(this._config.variables?.animation?.bg_grid?.stars?.color)"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.animation.bg_grid.stars.color"
                            - <<: *colorControl
                              configValue: "variables.animation.bg_grid.stars.color"
                        - visibilityCondition: "!Array.isArray(this._config.variables?.animation?.bg_grid?.stars?.color)"
                          controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.animation.bg_grid.stars.color"
                        - controls:
                            - type: Selector
                              configValue: "variables.animation.bg_grid.stars.color"
                              visibilityCondition: "Array.isArray(this._config.variables?.animation?.bg_grid?.stars?.color)"
                              selector:
                                text:
                                  type: text
                                  multiple: true
                - type: Section
                  label: "Nebula Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:weather-tornado"
                  noCollapse: false
                  expanded: true
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.background_pattern === 'nebula'"
                  rows:
                    - type: ControlRow
                      controls:
                        - label: "Preset"
                          configValue: "variables.animation.bg_grid.nebula.preset"
                          type: Selector
                          selector:
                            select:
                              mode: dropdown
                              options:
                                - value: "default"
                                  label: "Default"
                                - value: "orion"
                                  label: "[M42] Orion"
                                - value: "crab"
                                  label: "[M1] Crab"
                                - value: "horsehead"
                                  label: "[B33] Horsehead"
                                - value: "eagle"
                                  label: "[M16] Eagle"
                                - value: "pillars_of_creation"
                                  label: "[M16] Pillars of Creation"
                                - value: "veil"
                                  label: "[NGC 6960] Veil"
                                - value: "aurora_nexus"
                                  label: "Aurora Nexus"
                                - value: "cosmic_embers"
                                  label: "Cosmic Embers"
                                - value: "iridescent_drift"
                                  label: "Iridescent Drift"
                                - value: "emerald_void"
                                  label: "Emerald Void"
                                - value: "ethereal_drift"
                                  label: "Ethereal Drift"
                                - value: "custom"
                                  label: "Custom"
                        - label: "Custom Nebula"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.preset === 'custom'"
                          configValue: "variables.animation.bg_grid.nebula_layers"
                          helper: "Please see documentation for how to define custom nebula layers"
                          type: Selector
                          selector:
                            object:
                        - label: "Blur"
                          configValue: "variables.animation.bg_grid.nebula.blur"
                          helper: "Softens the nebula for a foggy look."
                          type: Selector
                          selector:
                            boolean:
                        - label: "Blur Level"
                          configValue: "variables.animation.bg_grid.nebula.blur_level"
                          helper: "Amount of blur to apply to the nebula.  Higher = more blur."
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.blur"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 25
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
                        - label: "Nebula Effect"
                          configValue: "variables.animation.bg_grid.nebula.nebula_effect"
                          helper: "Enable advanced nebula effect adding noise and distortion"
                          type: Selector
                          selector:
                            boolean:
                        - label: "Turbulance/noise Base Frequency"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.nebula_effect"
                          configValue: "variables.animation.bg_grid.nebula.base_frequency"
                          helper: "Controls the size and density of the nebula's noise pattern. Higher = finer."
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 5
                              step: 0.1
                              mode: slider
                              slider_ticks: true
                        - label: "Turbulance/Noise Octaves"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.nebula_effect"
                          configValue: "variables.animation.bg_grid.nebula.octaves"
                          helper: " Number of noise layers for detail. Higher = more complex nebula."
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "Turbulance/Noise Seed"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.nebula_effect"
                          configValue: "variables.animation.bg_grid.nebula.seed"
                          helper: "Seed for the turbulence effect to randomize the pattern.  Any integer for different looks."
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 1000
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "Displacement Scale"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.nebula_effect"
                          configValue: "variables.animation.bg_grid.nebula.scale"
                          helper: "Scale of the displacement effect"
                          type: Selector
                          selector:
                            number:
                              min: 10
                              max: 100
                              step: 1
                              mode: slider
                              slider_ticks: true

                        - label: "Animate Effects"
                          configValue: "variables.animation.bg_grid.nebula.animate"
                          helper: "Give the nebula a subtle animated effect"
                          type: Selector
                          selector:
                            boolean:
                        - label: "Animation Duration (s)"
                          visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.nebula?.animate"
                          configValue: "variables.animation.bg_grid.nebula.animation_duration"
                          helper: "Duration (seconds) for the full animation cycle effect."
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 60
                              step: 0.5
                              mode: slider
                              slider_ticks: true
                - type: Section
                  label: "Background Motion Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:motion-outline"
                  noCollapse: false
                  expanded: false
                  rows:
                    - controls:
                        - type: Message
                          alertType: info
                          message: "These settings control override the global motion effect of the background layers."
                        - label: "Speed (s)"
                          configValue: "variables.animation.bg_grid.background_speed"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 60
                              step: 0.5
                              mode: slider
                    - controls:
                        - label: "Motion Effect"
                          configValue: "variables.animation.bg_grid.background_effect"
                          type: Selector
                          selector:
                            select:
                              mode: radio
                              options:
                                - value: "scroll"
                                  label: "Scroll"
                                - value: "zoom"
                                  label: "Zoom"
                                - value: "none"
                                  label: "None"
                    - type: Section
                      label: "Zoom Settings"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:move-resize-variant"
                      noCollapse: false
                      expanded: true
                      visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.background_effect === 'zoom'"
                      rows:
                        - controls:
                            - type: Message
                              alertType: info
                              message: "Each layer will zoom in until the layer is scaled by the factor.  It will fade in and out based on the opacity stops."
                        - type: ControlRow
                          controls:
                            - label: "Zoom Layers"
                              configValue: "variables.animation.bg_grid.background_zoom.layers"
                              helper: "Number of layers to zoom in the background"
                              type: Selector
                              selector:
                                number:
                                  min: 1
                                  max: 10
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                            - label: "Scale Size"
                              configValue: "variables.animation.bg_grid.background_zoom.scale_to"
                              helper: "Scale factor of the zoom effect"
                              type: Selector
                              selector:
                                number:
                                  min: 1
                                  max: 10
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "x"
                            - label: "Opacity Fade In"
                              configValue: "variables.animation.bg_grid.background_zoom.opacity_fade_in"
                              helper: "At what percent of the zoom should the opacity fade in"
                              type: Selector
                              selector:
                                number:
                                  min: 0
                                  max: 100
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "%"

                            - label: "Opacity Fade Out"
                              configValue: "variables.animation.bg_grid.background_zoom.opacity_fade_out"
                              helper: "At what percent of the zoom should the opacity fade out"
                              type: Selector
                              selector:
                                number:
                                  min: 0
                                  max: 100
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "%"

                - type: Section
                  label: "Background Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>Background Fill Colour</label>
                    - cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.animation.bg_grid.color.fill"
                        - <<: *colorControl
                          configValue: "variables.animation.bg_grid.color.fill"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.animation.bg_grid.color.fill"
            - &bgGridGridSection
              type: Section
              label: "GRID"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:grid"
              noCollapse: false
              expanded: false
              rows:
                - type: ControlRow
                  controls:
                    - type: Message
                      alertType: info
                      message: "Cell dimensions are calculated automatically based on card size and row/column counts."
                - type: ControlRow
                  controls:
                    - label: "Grid Preset"
                      configValue: "variables.animation.bg_grid.grid.preset"
                      helper: "Select the type of grid to display"
                      type: Selector
                      selector:
                        select:
                          mode: dropdown
                          options:
                            - value: "rect"
                              label: "Rectangular"
                            - value: "bracket"
                              label: "[[ bracket ]]"
                            - value: "hex"
                              label: "Hexagonal"
                            - value: "diagonal"
                              label: "Diagonal/Diamond"
                - type: ControlRow
                  controls:
                    - label: "Hex Radius"
                      configValue: "variables.animation.bg_grid.grid.hex_radius"
                      helper: "Radius of the hexagonal grid cells"
                      visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.grid?.preset === 'hex'"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 50
                          step: 1
                          mode: slider
                          slider_ticks: true
                          unit_of_measurement: "px"
                - type: Section
                  label: "Grid Dimensions & Sizing"
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.grid?.preset !== 'bracket'"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:ruler-square"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "# Major Columns"
                          configValue: "variables.animation.bg_grid.grid.num_major_cols"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                        - label: "# Minor Columns"
                          configValue: "variables.animation.bg_grid.grid.num_minor_cols"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                        - label: "# Major Rows"
                          configValue: "variables.animation.bg_grid.grid.num_major_rows"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "# Minor Rows"
                          configValue: "variables.animation.bg_grid.grid.num_minor_rows"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "Major Line Width"
                          configValue: "variables.animation.bg_grid.grid.line_width_major"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                        - label: "Minor Line Width"
                          configValue: "variables.animation.bg_grid.grid.line_width_minor"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 10
                              step: 1
                              mode: slider
                              slider_ticks: true
                - type: Section
                  label: "Bracket Settings"
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.grid?.preset === 'bracket'"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:ruler-square"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - label: "Bracket Width"
                          configValue: "variables.animation.bg_grid.grid.bracket_width"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                        - label: "Bracket Height"
                          configValue: "variables.animation.bg_grid.grid.bracket_height"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: label
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                        - label: "Bracket Radius"
                          configValue: "variables.animation.bg_grid.grid.bracket_radius"
                          type: Selector
                          selector:
                            number:
                              min: 1
                              max: 25
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                        - label: "Bracket Gap/Inset"
                          configValue: "variables.animation.bg_grid.grid.bracket_gap"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 50
                              step: 1
                              mode: slider
                              unit_of_measurement: "%"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>Bracket Colour</label>
                    - cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.animation.bg_grid.grid.bracket_color"
                        - <<: *colorControl
                          configValue: "variables.animation.bg_grid.grid.bracket_color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.animation.bg_grid.grid.bracket_color"
                    - controls:
                        - type: Selector
                          label: "Bracket Fill"
                          configValue: "variables.animation.bg_grid.grid.bracket_fill"
                          helper: "Fill the area between brackets (def: rgba(128, 128, 128, 0.08) )  Set 'none' to disable."
                          selector:
                            text:
                - type: Section
                  label: "Grid Colours"
                  visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.grid?.preset !== 'bracket'"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>Grid Line Colour</label>
                    - cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.animation.bg_grid.color.line"
                        - <<: *colorControl
                          configValue: "variables.animation.bg_grid.color.line"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.animation.bg_grid.color.line"

                    - controls:
                        - type: RawHTML
                          html: |
                              <label>Grid Cell Fill Colour</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.animation.bg_grid.color.fill"
                        - <<: *colorControl
                          configValue: "variables.animation.bg_grid.color.fill"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.animatino.bg_grid.color.fill"
                - type: Section
                  label: "GRID Motion Settings"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:motion-outline"
                  noCollapse: false
                  expanded: false
                  rows:
                    - controls:
                        - type: Message
                          alertType: info
                          message: "These settings control override the global motion effect of the grid layers."
                        - label: "Speed (s)"
                          configValue: "variables.animation.bg_grid.grid_speed"
                          type: Selector
                          selector:
                            number:
                              min: 0
                              max: 60
                              step: 0.5
                              mode: slider
                    - controls:
                        - label: "Motion Effect"
                          configValue: "variables.animation.bg_grid.grid_effect"
                          type: Selector
                          selector:
                            select:
                              mode: radio
                              options:
                                - value: "scroll"
                                  label: "Scroll"
                                - value: "zoom"
                                  label: "Zoom"
                                - value: "none"
                                  label: "None"
                    - type: Section
                      label: "Zoom Settings"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:move-resize-variant"
                      noCollapse: false
                      expanded: true
                      visibilityCondition: "this._config.variables && this._config.variables.animation?.bg_grid?.grid_effect === 'zoom'"
                      rows:
                        - controls:
                            - type: Message
                              alertType: info
                              message: "Each layer will zoom in until the layer is scaled by the factor.  It will fade in and out based on the opacity stops."
                        - type: ControlRow
                          controls:
                            - label: "Zoom Layers"
                              configValue: "variables.animation.bg_grid.grid_zoom.layers"
                              helper: "Number of grid layers to zoom"
                              type: Selector
                              selector:
                                number:
                                  min: 1
                                  max: 10
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                            - label: "Scale Size"
                              configValue: "variables.animation.bg_grid.grid_zoom.scale_to"
                              helper: "Scale factor of the zoom effect"
                              type: Selector
                              selector:
                                number:
                                  min: 1
                                  max: 10
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "x"
                            - label: "Opacity Fade In"
                              configValue: "variables.animation.bg_grid.grid_zoom.opacity_fade_in"
                              helper: "At what percent of the zoom should the opacity fade in"
                              type: Selector
                              selector:
                                number:
                                  min: 0
                                  max: 100
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "%"
                            - label: "Opacity Fade Out"
                              configValue: "variables.animation.bg_grid.grid_zoom.opacity_fade_out"
                              helper: "At what percent of the zoom should the opacity fade out"
                              type: Selector
                              selector:
                                number:
                                  min: 0
                                  max: 100
                                  step: 1
                                  mode: slider
                                  slider_ticks: true
                                  unit_of_measurement: "%"
cb-lcars-elbow-card:
  tabs:
    - label: LCARS
      content:
        - type: Section
          label: "LCARS Preset"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:select-color"
          rows:
            - controls:
                - label: "LCARS Elbow Type"
                  configValue: cblcars_card_type
                  helper: "Presets LCARS Elbow templates for common header and footer styles"
                  type: Selector
                  selector:
                    select:
                      options:
                        - value: 'cb-lcars-header'
                          label: 'Header'
                        - value: 'cb-lcars-header-right'
                          label: 'Header [Right]'
                        - value: 'cb-lcars-header-open'
                          label: 'Header [Open]'
                        - value: 'cb-lcars-header-contained'
                          label: 'Header [Contained]'
                        - value: 'cb-lcars-header-callout'
                          label: 'Header [Callout]'
                        - value: 'cb-lcars-header-callout-right'
                          label: 'Header [Callout Right]'
                        - value: 'cb-lcars-footer'
                          label: 'Footer'
                        - value: 'cb-lcars-footer-right'
                          label: 'Footer [Right]'
                        - value: 'cb-lcars-footer-open'
                          label: 'Footer [Open]'
                        - value: 'cb-lcars-footer-contained'
                          label: 'Footer [Contained]'
                        - value: 'cb-lcars-footer-callout'
                          label: 'Footer [Callout]'
                        - value: 'cb-lcars-footer-callout-right'
                          label: 'Footer [Callout Right]'
                - type: Message
                  alertType: info
                  message: "If changing the preset after customizing settings below - please manually remove the variables in yaml to correctly reset the card."
                - label: "Entity [optional]"
                  configValue: "variables.entity"
                  type: Selector
                  selector:
                    entity:
                - label: "Attribute [optional]"
                  configValue: "variables.attribute"
                  visibilityCondition: "this._config?.variables?.entity"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      optionsCondition: |
                        (() => {
                          const entityId = this._config?.variables?.entity;
                          const hass = this._hass || this.hass;
                          if (!entityId || !hass?.states?.[entityId]) {
                            return [];
                          }
                          const entity = hass.states[entityId];
                          if (!entity.attributes || typeof entity.attributes !== "object") {
                            return [];
                          }
                          return Object.entries(entity.attributes)
                            .filter(([_, value]) =>
                              value === null ||
                              ["string", "number", "boolean"].includes(typeof value)
                            )
                            .map(([key]) => ({
                              value: key,
                              label: key
                            }));
                        })()
        - <<: *advancedSettingsToggle
        - <<: *cardSection
        - <<: *textSection
        - <<: *actionsSection
    - <<: *symbiontTab
    - <<: *animationsTab
    - <<: *dataCascadeTab
    - <<: *pulsewaveTab
    - <<: *gridBgTab
    - <<: *geoArrayTab
    - <<: *alertConditionTab
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }

cb-lcars-double-elbow-card:
  tabs:
    - label: LCARS
      content:
        - type: Section
          label: "LCARS Preset"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:select-color"
          rows:
            - controls:
                - label: "LCARS Elbow Type"
                  configValue: cblcars_card_type
                  helper: "Presets LCARS Elbow templates for common header and footer styles"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      options:
                        - value: 'cb-lcars-header-picard'
                          label: 'Header'
                        - value: 'cb-lcars-header-picard-right'
                          label: 'Header [Right]'
                        - value: 'cb-lcars-footer-picard'
                          label: 'Footer'
                        - value: 'cb-lcars-footer-picard-right'
                          label: 'Footer [Right]'
                - type: Message
                  alertType: info
                  message: "If changing the preset after customizing settings below - please manually remove the variables in yaml to correctly reset the card."
                - label: "Entity [optional]"
                  configValue: "variables.entity"
                  type: Selector
                  selector:
                    entity:
                - label: "Attribute [optional]"
                  configValue: "variables.attribute"
                  visibilityCondition: "this._config?.variables?.entity"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      optionsCondition: |
                        (() => {
                          const entityId = this._config?.variables?.entity;
                          const hass = this._hass || this.hass;
                          if (!entityId || !hass?.states?.[entityId]) {
                            return [];
                          }
                          const entity = hass.states[entityId];
                          if (!entity.attributes || typeof entity.attributes !== "object") {
                            return [];
                          }
                          return Object.entries(entity.attributes)
                            .filter(([_, value]) =>
                              value === null ||
                              ["string", "number", "boolean"].includes(typeof value)
                            )
                            .map(([key]) => ({
                              value: key,
                              label: key
                            }));
                        })()
        - <<: *advancedSettingsToggle
        - <<: *textSection
        - <<: *actionsSection
    - label: "Elbow [Common]"
      content:
        - type: Section
          label: "Common Settings"
          outlined: true
          leftChevron: false
          headerLevel: 4
          expanded: true
          icon: "mdi:card-multiple-outline"
          noCollapse: false
          rows:
            - controls:
                - type: Message
                  alertType: info
                  message: "These common settings apply to both inner and outer elbows.  For individual settings, please use the respective tab."
            - <<: *advCardSizeSection
            - type: Section
              label: Borders
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:border-style"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Gap Between Elbows"
                      helper: "The size of the gap between inner/outer elbows."
                      configValue: "variables.lcars.border.gap"
                      disabled: false
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 50
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Outer to Inner Ratio"
                      helper: "Autosize factor of outer to inner elbow size"
                      configValue: "variables.lcars.border.factor"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 10
                          step: 0.1
                          mode: slider
                          slider_ticks: false
                    - label: "Left Border Size"
                      helper: "The width of the left side of LCARS"
                      configValue: "variables.lcars.border.left.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Border Size"
                      helper: "The height of the top side of LCARS"
                      configValue: "variables.lcars.border.top.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Right Border Size"
                      helper: "The width of the right side of LCARS"
                      configValue: "variables.lcars.border.right.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Border Size"
                      helper: "The height of the bottom side of LCARS"
                      configValue: "variables.lcars.border.bottom.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                - type: Section
                  label: Inner Border
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-style"
                  visibilityCondition: "this._config.type != 'custom:cb-lcars-multimeter-card'"
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - type: Selector
                          label: Scaling Factor
                          helper: This values affects the inner radius in relation to the outer radius.
                          configValue: "variables.card.border.inner.factor"
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.5
                              mode: slider
                              slider_ticks: false
                        - type: Selector
                          label: Inner Border Width
                          helper: The width of the inner border.
                          configValue: "variables.card.border.inner.width"
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
            - type: Section
              label: Corners
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:rounded-corner"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Top Left Radius"
                      helper: "The top left curve of LCARS"
                      configValue: "variables.card.border.top.left_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Right Radius"
                      helper: "The top right curve of LCARS"
                      configValue: "variables.card.border.top.right_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Left Radius"
                      helper: "The bottom left curve of LCARS"
                      configValue: "variables.card.border.bottom.left_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Right Radius"
                      helper: "The bottom right curve of LCARS"
                      configValue: "variables.card.border.bottom.right_radius"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - type: Section
                  label: "Border"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.card.color.default"
                            - <<: *colorControl
                              configValue: "variables.card.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.card.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.active"
                                - <<: *colorControl
                                  configValue: "variables.card.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.card.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.card.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.card.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.card.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.unavailable"
                - type: Section
                  label: "Background"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.card.color.background.default"
                            - <<: *colorControl
                              configValue: "variables.card.color.background.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.card.color.background.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.active"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.inactive"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.card.color.background.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.card.color.background.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.card.color.background.unavailable"
    - label: "Outer Elbow"
      content:
        - type: Section
          label: "Outer Elbow Settings"
          outlined: true
          leftChevron: false
          headerLevel: 4
          expanded: true
          icon: "mdi:card-multiple-outline"
          noCollapse: false
          rows:
            - type: Section
              label: Borders
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:border-style"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Left Border Size"
                      helper: "The width of the left side of LCARS"
                      configValue: "variables.lcars_outer.card.border.left.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Border Size"
                      helper: "The height of the top side of LCARS"
                      configValue: "variables.lcars_outer.card.border.top.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Right Border Size"
                      helper: "The width of the right side of LCARS"
                      configValue: "variables.lcars_outer.card.border.right.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Border Size"
                      helper: "The height of the bottom side of LCARS"
                      configValue: "variables.lcars_outer.card.border.bottom.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                - type: Section
                  label: Inner Border
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-style"
                  visibilityCondition: "this._config.type != 'custom:cb-lcars-multimeter-card'"
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - type: Selector
                          label: Scaling Factor
                          helper: This values affects the inner radius in relation to the outer radius.
                          configValue: "variables.card.border.inner.factor"
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.5
                              mode: slider
                              slider_ticks: false
                        - type: Selector
                          label: Inner Border Width
                          helper: The width of the inner border.
                          configValue: "variables.card.border.inner.width"
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - type: Section
                  label: "Border"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.lcars_outer.card.color.default"
                            - <<: *colorControl
                              configValue: "variables.lcars_outer.card.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.lcars_outer.card.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.active"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.unavailable"
                - type: Section
                  label: "Background"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.lcars_outer.card.color.background.default"
                            - <<: *colorControl
                              configValue: "variables.lcars_outer.card.color.background.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.lcars_outer.card.color.background.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.active"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.inactive"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_outer.card.color.background.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.lcars_outer.card.color.background.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_outer.card.color.background.unavailable"
    - label: "Inner Elbow"
      content:
        - type: Section
          label: "Inner Elbow Settings"
          outlined: true
          leftChevron: false
          headerLevel: 4
          expanded: true
          icon: "mdi:card-multiple-outline"
          noCollapse: false
          rows:
            - type: Section
              label: Borders
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:border-style"
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Left Border Size"
                      helper: "The width of the left side of LCARS"
                      configValue: "variables.lcars_inner.card.border.left.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Top Border Size"
                      helper: "The height of the top side of LCARS"
                      configValue: "variables.lcars_inner.card.border.top.size"
                      visibilityCondition: "this._config.cblcars_card_type && !this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Right Border Size"
                      helper: "The width of the right side of LCARS"
                      configValue: "variables.lcars_inner.card.border.right.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('right')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 300
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                    - label: "Bottom Border Size"
                      helper: "The height of the bottom side of LCARS"
                      configValue: "variables.lcars_inner.card.border.bottom.size"
                      visibilityCondition: "this._config.cblcars_card_type && this._config.cblcars_card_type.includes('footer')"
                      disabled: false
                      required: true
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 200
                          step: 1
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
                - type: Section
                  label: Inner Border
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-style"
                  visibilityCondition: "this._config.type != 'custom:cb-lcars-multimeter-card'"
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - type: Selector
                          label: Scaling Factor
                          helper: This values affects the inner radius in relation to the outer radius.
                          configValue: "variables.lcars_inner.card.border.inner.factor"
                          selector:
                            number:
                              min: 0
                              max: 10
                              step: 0.5
                              mode: slider
                              slider_ticks: false
                        - type: Selector
                          label: Inner Border Width
                          helper: The width of the inner border.
                          configValue: "variables.lcars_inner.card.border.inner.width"
                          selector:
                            number:
                              min: 0
                              max: 200
                              step: 1
                              mode: slider
                              unit_of_measurement: "px"
                              slider_ticks: false
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              rows:
                - type: Section
                  label: "Border"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.lcars_inner.card.color.default"
                            - <<: *colorControl
                              configValue: "variables.lcars_inner.card.color.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.lcars_inner.card.color.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.active"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.inactive"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.unavailable"
                - type: Section
                  label: "Background"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: Section
                      label: "Default Colour (no entity/state)"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: true
                      expanded: true
                      rows:
                        - cssClass: "form-row two-controls"
                          controls:
                            - <<: *colorLCARSListControl
                              configValue: "variables.lcars_inner.card.color.background.default"
                            - <<: *colorControl
                              configValue: "variables.lcars_inner.card.color.background.default"
                        - controls:
                            - <<: *colorPreviewControl
                              configValue: "variables.lcars_inner.card.color.background.default"
                    - type: Section
                      label: "State Colours"
                      outlined: true
                      leftChevron: false
                      headerLevel: 4
                      icon: "mdi:select-color"
                      noCollapse: false
                      rows:
                        - type: Section
                          label: "Active/Inactive"
                          secondary: "[state: on/off, open/closed, locked/unlocked]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Active</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.active"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.active"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.active"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Inactive</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.inactive"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.inactive"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.inactive"
                        - type: Section
                          label: "Zero/Non-Zero"
                          secondary: "[state: numeric 0 or not 0]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.zero"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State Number Value: Non-Zero</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.non_zero"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.non_zero"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.non_zero"
                        - type: Section
                          label: "HVAC Heat/Cool"
                          secondary: "[state: heat/cool ]"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Heat</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_heat"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_heat"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_heat"
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Cool</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_cool"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_cool"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.hvac_cool"
                        - type: Section
                          label: "Unavailable/Unknown"
                          outlined: true
                          leftChevron: false
                          headerLevel: 4
                          icon: "mdi:select-color"
                          noCollapse: false
                          rows:
                            - controls:
                                - type: RawHTML
                                  html: |
                                      <label>State: Unavailable/Unknown</label>
                            - type: ControlRow
                              cssClass: "form-row two-controls"
                              controls:
                                - <<: *colorLCARSListControl
                                  configValue: "variables.lcars_inner.card.color.background.unavailable"
                                - <<: *colorControl
                                  configValue: "variables.lcars_inner.card.color.background.unavailable"
                            - controls:
                                - <<: *colorPreviewControl
                                  configValue: "variables.lcars_inner.card.color.background.unavailable"
    - <<: *animationsTab
    - <<: *dataCascadeTab
    - <<: *pulsewaveTab
    - <<: *gridBgTab
    - <<: *geoArrayTab
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }

cb-lcars-button-card:
  tabs:
    - label: LCARS
      content:
        - type: Section
          label: "LCARS Preset"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:select-color"
          rows:
            - controls:
                - label: "LCARS Button Type"
                  configValue: cblcars_card_type
                  type: Selector
                  required: true
                  selector:
                    select:
                      mode: dropdown
                      options:
                        - value: 'cb-lcars-button-lozenge'
                          label: '[TNG] Lozenge'
                        - value: 'cb-lcars-button-bullet'
                          label: '[TNG] Bullet'
                        - value: 'cb-lcars-button-capped'
                          label: '[TNG] Capped'
                        - value: 'cb-lcars-button-picard'
                          label: '[Picard] Outline'
                        - value: 'cb-lcars-button-picard-filled'
                          label: '[Picard] Filled'
                        - value: 'cb-lcars-button-picard-icon'
                          label: '[Picard] Icon'
                - type: Message
                  alertType: info
                  message: "If changing the preset after customizing settings below - please manually remove the variables in yaml to correctly reset the card."
                - label: "Entity [optional]"
                  configValue: "variables.entity"
                  type: Selector
                  selector:
                    entity:
                - label: "Attribute [optional]"
                  configValue: "variables.attribute"
                  visibilityCondition: "this._config?.variables?.entity"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      optionsCondition: |
                        (() => {
                          const entityId = this._config?.variables?.entity;
                          const hass = this._hass || this.hass;
                          if (!entityId || !hass?.states?.[entityId]) {
                            return [];
                          }
                          const entity = hass.states[entityId];
                          if (!entity.attributes || typeof entity.attributes !== "object") {
                            return [];
                          }
                          return Object.entries(entity.attributes)
                            .filter(([_, value]) =>
                              value === null ||
                              ["string", "number", "boolean"].includes(typeof value)
                            )
                            .map(([key]) => ({
                              value: key,
                              label: key
                            }));
                        })()
        - <<: *advancedSettingsToggle
        - <<: *cardSection
        - <<: *iconSection
        - <<: *textSection
        - <<: *actionsSection
    - <<: *animationsTab
    - <<: *dataCascadeTab
    - <<: *pulsewaveTab
    - <<: *gridBgTab
    - <<: *geoArrayTab
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }

cb-lcars-dpad-card:
  tabs:
    - label: "DPAD Defaults"
      content:
        - type: Section
          label: "DPAD Defaults"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:tune-vertical"
          rows:
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "These colours are used as defaults for the DPAD buttons.\nYou can override these colours for each button individually.\n\nQuandrant colours are inverted from DPAD button colours by default."
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.__defs_dpad.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.__defs_dpad.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.__defs_dpad.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.__defs_dpad.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.__defs_dpad.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.__defs_dpad.color.background.inactive"
            - type: Section
              label: "Size"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:resize"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - type: Message
                      alertType: info
                      message: "By default the DPAD will autosize to fit the card dimensions.\nYou can override this behavior by setting a fixed size here."
                    - label: "DPAD Size"
                      configValue: "variables.card.size"
                      disabled: false
                      required: false
                      type: Selector
                      selector:
                        number:
                          min: 100
                          max: 1000
                          step: 10
                          mode: slider
                          unit_of_measurement: "px"
                          slider_ticks: false
    - label: "DPAD Buttons"
      content:
        - type: Section
          label: "DPAD Buttons"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:button-pointer"
          rows:
            - type: Section
              label: "Up Button"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:gamepad-up"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.up.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.up.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.up.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.up.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.up.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.up.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Down Button"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:gamepad-down"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.down.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.down.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.down.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.down.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.down.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.down.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Left Button"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:gamepad-left"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.left.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.left.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.left.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.left.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.left.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.left.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.left.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.left.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.left.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.left.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Right Button"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:gamepad-right"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.right.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.right.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.right.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.right.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.right.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.right.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.right.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.right.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.right.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.right.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Center Button"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:gamepad-round"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.center.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.center.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.center.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.center.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.center.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.center.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.center.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.center.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.center.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.center.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Upper Left Quadrant"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:numeric-1-circle"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.up_left.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up_left.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.up_left.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up_left.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up_left.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.up_left.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up_left.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.up_left.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.up_left.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.up_left.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Upper Right Quadrant"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:numeric-2-circle"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.up_right.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up_right.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.up_right.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up_right.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.up_right.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.up_right.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.up_right.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.up_right.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.up_right.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.up_right.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Lower Left Quadrant"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:numeric-3-circle"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.down_left.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down_left.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.down_left.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down_left.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down_left.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.down_left.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down_left.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.down_left.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.down_left.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.down_left.hold_action"
                              type: Selector
                              selector:
                                ui_action:
            - type: Section
              label: "Lower Right Quadrant"
              outlined: true
              leftChevron: false
              expanded: false
              headerLevel: 4
              icon: "mdi:numeric-4-circle"
              rows:
                - controls:
                    - label: "Entity"
                      configValue: "variables.dpad.down_right.entity"
                      required: true
                      type: Selector
                      selector:
                        entity:
                    - type: RawHTML
                      html: |
                          <label>State: Active</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down_right.color.background.active"
                    - <<: *colorControl
                      configValue: "variables.dpad.down_right.color.background.active"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down_right.color.background.active"
                - controls:
                    - type: RawHTML
                      html: |
                          <label>State: Inctive</label>
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - <<: *colorLCARSListControl
                      configValue: "variables.dpad.down_right.color.background.inactive"
                    - <<: *colorControl
                      configValue: "variables.dpad.down_right.color.background.inactive"
                - controls:
                    - <<: *colorPreviewControl
                      configValue: "variables.dpad.down_right.color.background.inactive"
                - <<: *actionsSection
                  rows:
                    - <<: *tapActionSection
                      rows:
                        - controls:
                          - label: "Tap Action"
                            configValue: "variables.dpad.down_right.tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *doubleTapActionSection
                      rows:
                        - controls:
                          - label: "Double-tap Action"
                            configValue: "variables.dpad.down_right.double_tap_action"
                            type: Selector
                            selector:
                              ui_action:
                    - <<: *holdActionSection
                      rows:
                        - type: ControlRow
                          controls:
                            - label: "Hold Action"
                              configValue: "variables.dpad.down_right.hold_action"
                              type: Selector
                              selector:
                                ui_action:
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }
cb-lcars-label-card:
  tabs:
    - label: "LCARS"
      content:
        - type: Section
          label: "LCARS Preset"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:select-color"
          rows:
            - controls:
                - label: "LCARS Label Preset"
                  configValue: cblcars_card_type
                  helper: "Presets for various LCARS label styles and ornamentation"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      options:
                        - value: 'cb-lcars-label-picard'
                          label: 'Picard Label [manual border, animations]'
                        - value: 'cb-lcars-label-picard-square'
                          label: 'Picard Label [auto border, square]'
                        - value: 'cb-lcars-label-picard-lozenge'
                          label: 'Picard Label [auto border, lozenge]'
                        - value: 'cb-lcars-label-picard-bullet'
                          label: 'Picard Label [auto border, bullet]'
                        - value: 'cb-lcars-label-picard-bullet-right'
                          label: 'Picard Label [auto border, bullet right]'
                        - value: 'cb-lcars-label'
                          label: 'Standard Label'
                - type: Message
                  alertType: info
                  message: "For background animation support, please select the manual preset with animations.  Auto modes do not support background animations behind the text - they will render in the border area if enabled."
                - type: Message
                  alertType: info
                  message: "Optional: Select an entity to enable state specific colours."
                - label: "Entity [optional]"
                  configValue: "variables.entity"
                  type: Selector
                  selector:
                    entity:
                - label: "Attribute [optional]"
                  configValue: "variables.attribute"
                  visibilityCondition: "this._config?.variables?.entity"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      optionsCondition: |
                        (() => {
                          const entityId = this._config?.variables?.entity;
                          const hass = this._hass || this.hass;
                          if (!entityId || !hass?.states?.[entityId]) {
                            return [];
                          }
                          const entity = hass.states[entityId];
                          if (!entity.attributes || typeof entity.attributes !== "object") {
                            return [];
                          }
                          return Object.entries(entity.attributes)
                            .filter(([_, value]) =>
                              value === null ||
                              ["string", "number", "boolean"].includes(typeof value)
                            )
                            .map(([key]) => ({
                              value: key,
                              label: key
                            }));
                        })()
        - <<: *textSection
          expanded: true
        - <<: *advancedSettingsToggle
        - <<: *cardSection
        - <<: *actionsSection
    - <<: *animationsTab
    - <<: *dataCascadeTab
    - <<: *pulsewaveTab
    - <<: *gridBgTab
    - <<: *geoArrayTab
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }
cb-lcars-multimeter-card:
  tabs:
    - label: "LCARS"
      content:
        - type: Section
          label: "LCARS Options"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:select-color"
          rows:
            - controls:
                - label: "Slider Control Mode"
                  configValue: variables._mode
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdowm
                      options:
                        - value: 'gauge'
                          label: 'Gauge'
                        - value: 'slider'
                          label: 'Slider'
                - label: "Orientation"
                  helper: "Adjust the dimensions of the card in the 'Layout' tab to the desired aspect ratio."
                  configValue: variables._vertical
                  required: true
                  type: Selector
                  selector:
                    select:
                      options:
                        - value: false
                          label: 'Horizontal'
                        - value: true
                          label: 'Vertical'
                - type: Message
                  alertType: info
                  message: "If changing the presets after customizing settings - you may need to manually remove/reset those variables in yaml code editor to correctly reset the card."
        - <<: *advancedSettingsToggle
        - type: Section
          label: "Entity Options"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          noCollapse: true
          icon: "mdi:devices"
          rows:
            - controls:
                - type: Message
                  visibilityCondition: "this._config.variables.entity && !['light','input_number','number','media_player','cover','fan','switch','input_boolean','lock'].includes(this._config.variables.entity.split('.')[0])"
                  alertType: warning
                  message: "Slider control functionality is disabled for unsupported entity types.  The sliders for these entities will be in display-only mode."
                - label: "Entity"
                  configValue: "variables.entity"
                  required: true
                  type: Selector
                  selector:
                    entity:
                - type: Message
                  visibilityCondition: "this._config.variables.entity && !['light','input_number','number','media_player','cover','fan','switch','input_boolean','lock'].includes(this._config.variables.entity.split('.')[0])"
                  alertType: info
                  message: "You can try the 'Attribute' selector to select a specific attribute of the entity to display.  The list of attributes has been filtered down to those that can parse to a number.  If not selected, the card will use the state of the entity."
                - label: "Attribute [optional]"
                  configValue: "variables.attribute"
                  visibilityCondition: "this._config?.variables?.entity"
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      optionsCondition: |
                        (() => {
                          const entityId = this._config?.variables?.entity;
                          const hass = this._hass || this.hass;
                          if (!entityId || !hass?.states?.[entityId]) {
                            return [];
                          }
                          const entity = hass.states[entityId];
                          if (!entity.attributes || typeof entity.attributes !== "object") {
                            return [];
                          }
                          return Object.entries(entity.attributes)
                            .filter(([_, value]) =>
                              (typeof value === "number" && isFinite(value)) ||
                              (typeof value === "string" && !isNaN(parseFloat(value)) && isFinite(parseFloat(value)))
                            )
                          .map(([key]) => ({
                                value: key,
                                label: key
                              }));
                        })()

                - label: "Light Control Mode"
                  configValue: variables._slider_mode
                  visibilityCondition: "this._config.variables.entity?.split?.('.')[0] === 'light'"
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdowm
                      options:
                        - value: 'brightness'
                          label: 'Brightness'
                        - value: 'temperature'
                          label: 'Temperature'
                        - value: 'saturation'
                          label: 'Saturation'
                        - value: 'hue'
                          label: 'Hue'
                - label: "Cover Control Mode"
                  configValue: variables._slider_mode
                  visibilityCondition: "this._config.variables.entity?.split?.('.')[0] === 'cover'"
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdowm
                      options:
                        - value: 'position'
                          label: 'Position'
                        - value: 'tilt'
                          label: 'Tilt'
                - label: "Media Player Control Mode"
                  configValue: variables._slider_mode
                  visibilityCondition: "this._config.variables.entity?.split?.('.')[0] === 'media_player'"
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdowm
                      options:
                        - value: 'volume'
                          label: 'Volume'
                        - value: 'seekbar'
                          label: 'Seekbar'
            - <<: *actionsSection
    - label: "LCARS Border"
      content:
        - type: Section
          label: "LCARS Border"
          outlined: true
          leftChevron: false
          headerLevel: 4
          expanded: true
          noCollapse: true
          icon: "mdi:button-pointer"
          rows:
            - type: ControlRow
              controls:
                - label: "Match Entity Colour"
                  configValue: "variables.entity_match_header"
                  type: Selector
                  selector:
                    boolean:
            - <<: *advCardSizeSection
            - <<: *cardBorderSection
            - <<: *cardCornerSection
            - <<: *cardColorSection
            - <<: *textSection
            - <<: *effectsSection
    - label: "Gauge Mode"
      visibilityCondition: "this._config.variables._mode === 'gauge'"
      content:
        - type: Section
          label: "Gauge Style"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:view-grid-compact"
          rows:
            - type: ControlRow
              controls:
                - label: "Gauge Style"
                  configValue: "variables._gauge_style"
                  visibilityCondition: "this._config.variables._vertical === true"
                  required: true
                  type: Selector
                  selector:
                    select:
                      mode: dropdown
                      options:
                        - value: 'basic'
                          label: 'Basic'
                        - value: 'picard'
                          label: 'Picard'
                - type: Selector
                  selector:
                    boolean:
                  label: "Show Range(s) on Gauge"
                  configValue: "variables.gauge.range.enabled"
                - type: Selector
                  selector:
                    object:
                  configValue: "variables.gauge.ranges"
                  label: "Ranges"
                  helper: "Array of ranges to display on the gauge.  Each range is defined by a 'from', 'to', and 'color' value."
            - type: Section
              label: "Range Options [Picard Style]"
              visibilityCondition: "this._config.variables._vertical === true && this._config.variables._gauge_style === 'picard'"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:view-grid-compact"
              noCollapse: false
              expanded: false
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Range: Vertical Width Ratio"
                      visibilityCondition: "this._config.variables._vertical === true && this._config.variables._gauge_style === 'picard'"
                      configValue: "variables.gauge.range.width_ratio"
                      type: Selector
                      selector:
                        number:
                          step: 0.1
                          mode: box
                    - label: "Range: Bottom Height Ratio"
                      visibilityCondition: "this._config.variables._vertical === true && this._config.variables._gauge_style === 'picard'"
                      configValue: "variables.gauge.range.height_ratio"
                      type: Selector
                      selector:
                        number:
                          step: 0.1
                          mode: box
                - type: Section
                  label: "Range Border Colours"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:wallpaper"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Active</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.range.border.color.active"
                        - <<: *colorControl
                          configValue: "variables.gauge.range.border.color.active"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.range.border.color.active"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Inctive</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.range.border.color.inactive"
                        - <<: *colorControl
                          configValue: "variables.gauge.range.border.color.inactive"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.range.border.color.inactive"
        - type: Section
          label: "Gauge Options"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:view-grid-compact"
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Gauge: Min"
                  configValue: "variables._min"
                  type: Selector
                  selector:
                    number:
                      step: 1
                      mode: box
                - label: "Gauge: Max"
                  configValue: "variables._max"
                  type: Selector
                  selector:
                    number:
                      step: 1
                      mode: box
                - label: "Gauge: Increment"
                  configValue: "variables._increment"
                  type: Selector
                  selector:
                    number:
                      min: 1
                      step: 1
                      mode: box
                - label: "Gauge: Width (Picard)"
                  configValue: "variables.gauge.picard_ratio"
                  visibilityCondition: "this._config.variables._vertical === true && this._config.variables._gauge_style === 'picard'"
                  type: Selector
                  selector:
                    number:
                      min: 20
                      max: 50
                      step: 1
                      mode: box
                      unit_of_measurement: "%"
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Gauge: Show Units"
                  configValue: "variables._show_unit_of_measurement"
                  type: Selector
                  selector:
                    boolean:
                - label: "Gauge: Unit"
                  configValue: "variables._unit_of_measurement"
                  type: Selector
                  selector:
                    text:
                      type: text
            - controls:
                - label: "Gauge: Show Sub-meter Ticks"
                  configValue: "variables.gauge.sub_meter.show_sub_meter"
                  type: Selector
                  selector:
                    boolean:
            - type: ControlRow
              cssClass: "form-row two-controls"
              visibilityCondition: "this._config.variables.gauge.sub_meter.show_sub_meter === true"
              controls:
                - label: "Subtick Count"
                  configValue: "variables.gauge.sub_meter.tick_count"
                  type: Selector
                  selector:
                    number:
                      min: 0
                      max: 25
                      mode: box
                - label: "Subtick Size"
                  configValue: "variables.gauge.sub_meter.tick_size"
                  type: Selector
                  selector:
                    number:
                      min: 1
                      mode: box
            - controls:
                - label: "Gauge: Match Entity Colour"
                  configValue: "variables.entity_match_gauge"
                  type: Selector
                  selector:
                    boolean:
            - type: Section
              label: "Gauge Colours"
              visibilityCondition: "this._config.variables.entity_match_gauge === false"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              expanded: false
              rows:
                - type: Section
                  label: "Gauge Background"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:wallpaper"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Active</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.color.background.active"
                        - <<: *colorControl
                          configValue: "variables.gauge.color.background.active"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.color.background.active"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Inctive</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.color.background.inactive"
                        - <<: *colorControl
                          configValue: "variables.gauge.color.background.inactive"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.color.background.inactive"

                - type: Section
                  label: "Gauge Text"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:format-textbox"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Active</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.label.active"
                        - <<: *colorControl
                          configValue: "variables.gauge.label.active"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.label.active"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Inctive</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.label.inactive"
                        - <<: *colorControl
                          configValue: "variables.gauge.label.inactive"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.label.inactive"

                - type: Section
                  label: "Gauge Major Ticks"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:tally-mark-4"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Active</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.color.active"
                        - <<: *colorControl
                          configValue: "variables.gauge.color.active"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.color.active"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Inctive</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.color.inactive"
                        - <<: *colorControl
                          configValue: "variables.gauge.color.inactive"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.color.inactive"

                - type: Section
                  label: "Gauge Minor Ticks"
                  visibilityCondition: "this._config.variables.gauge.sub_meter.show_sub_meter === true"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:tally-mark-3"
                  noCollapse: false
                  rows:
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Active</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.sub_meter.active"
                        - <<: *colorControl
                          configValue: "variables.gauge.sub_meter.active"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.sub_meter.active"
                    - controls:
                        - type: RawHTML
                          html: |
                              <label>State: Inctive</label>
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.gauge.sub_meter.inactive"
                        - <<: *colorControl
                          configValue: "variables.gauge.sub_meter.inactive"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.gauge.sub_meter.inactive"
        - type: Section
          label: "Gauge Slider Options"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:view-grid-compact"
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Slider: Thickness"
                  configValue: "variables._slider_thickness"
                  helper: "The thickness of the slider bar."
                  type: Selector
                  selector:
                    number:
                      min: 1
                      max: 100
                      step: 1
                      mode: box
                - label: "Slider: Step Size"
                  configValue: "variables._slider_step"
                  helper: "Slider increment/decrement value."
                  type: Selector
                  selector:
                    number:
                      min: 1
                      max: 50
                      step: 1
                      mode: box
            - controls:
                - label: "Show Thumb Control"
                  configValue: "variables.slider.thumb.enabled"
                  type: Selector
                  selector:
                    boolean:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Thumb: Size"
                  configValue: "variables.slider.thumb.height"
                  visibilityCondition: "this._config.variables.slider?.thumb?.enabled === true"
                  helper: "The slider's thumb control size."
                  type: Selector
                  selector:
                    number:
                      min: 1
                      max: 50
                      step: 1
                      mode: box
                      unit_of_measurement: "px"
                - label: "Thumb: Border Radius"
                  configValue: "variables.slider.thumb.border.radius"
                  visibilityCondition: "this._config.variables.slider?.thumb?.enabled === true"
                  helper: "The curvature of the thumb control."
                  type: Selector
                  selector:
                    number:
                      min: 1
                      max: 100
                      step: 1
                      mode: box
                      unit_of_measurement: "%"
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              expanded: true
              rows:
                - controls:
                    - label: "Slider: Match Entity Colour"
                      configValue: "variables.entity_match_slider"
                      type: Selector
                      selector:
                        boolean:
                - type: Section
                  label: "Slider"
                  visibilityCondition: "this._config.variables.entity_match_slider === false"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider.color"
                        - <<: *colorControl
                          configValue: "variables.slider.color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider.color"

                - type: Section
                  label: "Slider Border"
                  visibilityCondition: "this._config.variables.entity_match_slider === false"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:select-color"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider.border_color"
                        - <<: *colorControl
                          configValue: "variables.slider.border_color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider.border_color"
                - type: Section
                  label: "Thumb"
                  visibilityCondition: "this._config.variables.slider?.thumb?.enabled === true"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-none-variant"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider.thumb.color"
                        - <<: *colorControl
                          configValue: "variables.slider.thumb.color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider.thumb.color"
                - type: Section
                  label: "Thumb Border"
                  visibilityCondition: "this._config.variables.slider?.thumb?.enabled === true"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:border-none-variant"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider.thumb.border.color"
                        - <<: *colorControl
                          configValue: "variables.slider.thumb.border.color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider.thumb.border.color"
    - label: "Slider Mode"
      visibilityCondition: "this._config.variables._mode === 'slider'"
      content:
        - &sliderSection
          type: Section
          label: "Slider Options"
          outlined: true
          leftChevron: false
          expanded: true
          headerLevel: 4
          icon: "mdi:tune-variant"
          rows:
            - type: ControlRow
              cssClass: "form-row two-controls"
              controls:
                - label: "Slider: Min"
                  configValue: "variables._min"
                  type: Selector
                  selector:
                    number:
                      step: 1
                      mode: box
                - label: "Slider: Max"
                  configValue: "variables._max"
                  type: Selector
                  selector:
                    number:
                      step: 1
                      mode: box
            - type: Section
              label: "Size & Shape"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:shape-square-rounded-plus"
              noCollapse: false
              expanded: true
              rows:
                - type: ControlRow
                  cssClass: "form-row two-controls"
                  controls:
                    - label: "Slider: Step Size"
                      configValue: "variables._slider_step"
                      helper: "The amount the slider will increment/decrement with each step."
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 5000
                          step: 1
                          mode: box
                    - label: "Bar Thickness"
                      configValue: "variables.slider_track.bar_thickness"
                      type: Selector
                      selector:
                        number:
                          min: 1
                          max: 100
                          step: 1
                          mode: slider
                    - label: "Bar Corner Radius"
                      configValue: "variables.slider_track.bar_border_radius"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 25
                          step: 1
                          mode: slider
                    - label: "Bar Gap/Spacing"
                      configValue: "variables.slider_track.gap"
                      type: Selector
                      selector:
                        number:
                          min: 0
                          max: 50
                          step: 1
                          mode: slider
            - type: Section
              label: "Colours"
              outlined: true
              leftChevron: false
              headerLevel: 4
              icon: "mdi:select-color"
              noCollapse: false
              expanded: false
              rows:
                - controls:
                    - label: "Gradient: Match [Left/Top] to Entity Colour"
                      configValue: "variables.entity_match_slider_start"
                      type: Selector
                      selector:
                        boolean:
                - type: Section
                  label: "Gradient - Left/Top"
                  visibilityCondition: "this._config.variables.entity_match_slider_start === false"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:gradient-horizontal"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider_track.gradient_start_color"
                        - <<: *colorControl
                          configValue: "variables.slider_track.gradient_start_color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider_track.gradient_start_color"
                - controls:
                    - label: "Gradient: Match [Right/Bottom] to Entity Colour"
                      configValue: "variables.entity_match_slider_end"
                      type: Selector
                      selector:
                        boolean:
                - type: Section
                  label: "Slider - Right/Bottom"
                  visibilityCondition: "this._config.variables.entity_match_slider_end === false"
                  outlined: true
                  leftChevron: false
                  headerLevel: 4
                  icon: "mdi:gradient-vertical"
                  noCollapse: false
                  rows:
                    - type: ControlRow
                      cssClass: "form-row two-controls"
                      controls:
                        - <<: *colorLCARSListControl
                          configValue: "variables.slider_track.gradient_end_color"
                        - <<: *colorControl
                          configValue: "variables.slider_track.gradient_end_color"
                    - controls:
                        - <<: *colorPreviewControl
                          configValue: "variables.slider_track.gradient_end_color"
    - <<: *animationsTab
    - <<: *dataCascadeTab
    - <<: *pulsewaveTab
    - <<: *gridBgTab
    - <<: *geoArrayTab
  css:
    mergeUserStyles: true
    cssText: |
      .form-control {
        padding: 2px 8px 2px 8px;
      }
      .form-row {
        grid-template-columns: 100%;
      }
      .form-row.two-controls {
        grid-template-columns: 50% 50%;
      }
